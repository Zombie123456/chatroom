webpackJsonp([1],{0:function(e,t,s){s("j1ja"),e.exports=s("NHnr")},"06yc":function(e,t,s){"use strict";var n=s("kZKH"),a=s("sylT"),i=s("VU/8"),r=i(n.a,a.a,!1,null,null,null);t.a=r.exports},"0Ljf":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"plan"},[s("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:!e.gameList.length,expression:"!gameList.length"}],attrs:{type:"card"},on:{"tab-click":e.changeGame},model:{value:e.activeGame,callback:function(t){e.activeGame=t},expression:"activeGame"}},e._l(e.gameList,function(t,n){return s("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:t.id,attrs:{label:t.display_name,name:""+n,"element-loading-background":"rgba(0, 0, 0, 0)"}},[s("div",{staticClass:"full-height"},[s("div",{staticClass:"scheme"},[s("ul",e._l(e.schemeList,function(t,n){return s("li",{key:t.id},[s("el-button",{class:{"is-active":n===e.activeScheme},attrs:{type:"text"},on:{click:function(t){return e.changeScheme(n)}}},[e._v("\n                "+e._s(t.display_name)+"\n              ")])],1)}),0)]),e._v(" "),s("div",{staticClass:"prediction",style:{height:"calc(100% - "+(8*(e.schemeList.length-1)+10)+"px)"}},[s("div",{ref:"view",refInFor:!0,staticClass:"prediction-container"},[e._l(e.prediction,function(t){return s("p",{key:t.id,staticClass:"text"},[e._v("\n              "+e._s(t.issue_numbers+" "+t.scheme+" ( "+t.numbers_predicted+" ) "+(t.result&&t.result.draw_result.length?""+(t.result.draw_result||""):""))+"\n            ")])}),e._v(" "),e.loading||e.prediction.length?e._e():s("p",{staticClass:"text"},[e._v("暂无资料")])],2)])])])}),1)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},"0xDb":function(e,t,s){"use strict";function n(e){var t=void 0,s=e.msg,n=e.response.data.message;if(Array.isArray(s)){var a=[];s.forEach(function(e){"string"==typeof e?a.push(e):o()(e).forEach(function(t){a.push(e[t])})}),t=a.join(", ")}else{if(s&&s.message)return t=s.message;if(n)return t=n;t=s}return t}function a(e,t){function s(s){var a="visible",i="hidden",r="",o={focus:a,focusin:a,pageshow:a,blur:i,focusout:i,pagehide:i};s=s||window.event,r=s.type in o?o[s.type]:this[n]?"hidden":"visible",r===a&&e?e():r===i&&t&&t()}var n="hidden";n in document?document.addEventListener("visibilitychange",s):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",s):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",s):(n="msHidden")in document?document.addEventListener("msvisibilitychange",s):"onfocusin"in document?document.onfocusin=document.onfocusout=s:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=s,void 0!==document[n]&&s({type:document[n]?"blur":"focus"})}function i(e){43!==e.keyCode&&45!==e.keyCode&&46!==e.keyCode&&101!==e.keyCode||e.preventDefault()}t.b=n,t.c=a,t.a=i;var r=s("fZjL"),o=s.n(r),c=s("Dd8w"),l=(s.n(c),s("M4fF"));s.n(l),s("FS5k")},"0yqT":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-l"},[s("el-container",{staticClass:"full-height"},[s("el-header",{staticClass:"m-t-lg text-center"},[s("div",{staticClass:"title"},[e._v("会员注册")])]),e._v(" "),s("el-main",[s("div",{staticClass:"register"},[s("el-form",{ref:"user",attrs:{model:e.user,"status-icon":"",rules:e.rules}},[s("el-form-item",{attrs:{prop:"username",label:"用户名","label-width":"85px"}},[s("el-input",{attrs:{maxlength:15,"auto-complete":"off"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password",label:"密码","label-width":"85px"}},[s("el-input",{attrs:{maxlength:15,"auto-complete":"off",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"confirmation_password",label:"确认密码","label-width":"85px"}},[s("el-input",{attrs:{maxlength:15,"auto-complete":"off",type:"password"},model:{value:e.user.confirmation_password,callback:function(t){e.$set(e.user,"confirmation_password",t)},expression:"user.confirmation_password"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"nickname",label:"昵称","label-width":"85px"}},[s("el-input",{model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],1),e._v(" "),s("div",{staticClass:"register-actions"},[s("el-form-item",[s("el-button",{staticClass:"inp",attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认送出")])],1)],1)],1),e._v(" "),s("transition",{attrs:{name:"el-fade-in"}},[e.errorMsg?s("span",{staticClass:"error text-center"},[e._v(e._s(e.errorMsg))]):e._e()])],1)])],1)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},"1GKN":function(e,t,s){"use strict";var n=s("gyMJ"),a=s("0xDb");t.a={props:{userId:{type:Number}},data:function(){return{member:{remarks:"",banned:!1,is_blocked:!1,logined:!1},changed:{message:"",oldContent:"",result:!1},defaultAvatar:s("HfaK"),loading:!1,isBanned:!1,isBlocked:!1}},filters:{whether:function(e){return e?"是":"否"}},methods:{getUser:function(e){var t=this;Object(n.q)(e||this.roomId).then(function(e){e.banned_users.length&&e.block_users.length||(t.isBanned=!1,t.isBlocked=!1);var s=e.banned_users.map(function(e){return e.username}),n=e.block_users.map(function(e){return e.username});t.isBanned=s.includes(t.member.username),t.isBlocked=n.includes(t.member.username)})},ban:function(e,t){var s=this;Object(n.a)(t,{user:this.member.username,banned_time:e}).then(function(e){s.getUser(),s.$message({showClose:!0,message:e.status,type:"success"})},function(e){s.$message({showClose:!0,message:e,type:"error"})})},unban:function(e,t){var s=this;Object(n.B)(t,{user:e}).then(function(e){s.getUser(),s.$message({showClose:!0,message:e.status,type:"success"})},function(e){var t=e.response.data;s.$message({showClose:!0,message:t.error,type:"error"})})},block:function(e){var t=this;Object(n.b)(e,{user:this.member.username}).then(function(e){t.getUser(),t.$message({showClose:!0,message:e.status,type:"success"})},function(e){t.$message({showClose:!0,message:e.response.data.error,type:"error"})})},unblock:function(e,t){var s=this;Object(n.C)(t,{user:e}).then(function(e){s.getUser(),s.$message({showClose:!0,message:e.status,type:"success"})},function(e){var t=e.response.data;s.$message({showClose:!0,message:t.error,type:"error"})})},fetchMember:function(){var e=this;this.loading=!0,Object(n.j)(this.userId).then(function(t){e.changed.oldContent=t.remarks,e.member=t,e.loading=!1,e.getUser()},function(t){e.$message({message:Object(a.b)(t),type:"error"}),e.$emit("memberDialogClose")})},updateMember:function(){var e=this;this.loading=!0,Object(n.D)(this.userId,this.member.remarks).then(function(t){e.loading=!1,e.changed.oldContent=t.remarks,e.changed.result=!1,e.changed.message="修改成功"},function(t){e.changed.message=t.message})},check:function(){this.changed.result=this.member.remarks!==this.oldContent},init:function(){this.member={remarks:""},this.changed={message:"",oldContent:"",result:!1},this.loading=!1}},computed:{roomId:function(){return this.$store.state.user.default_room_id}},watch:{"changed.message":function(){var e=this;this.changed.message&&setTimeout(function(){e.changed.message=""},3e3)}},created:function(){this.fetchMember()},beforeDestroy:function(){this.init()}}},"1xrD":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAmCAYAAAGkHhv0AAAAAXNSR0IArs4c6QAAA3ZJREFUWAntWM9PE0EU/mZ2l7aiNAhCwIAFEqKo8SLKwQMHieHAxcTEeDNGvcnFxH/Au+HiwcSzBxMOxsgBDyYexHhTVMAIDQ0gICiVlv7cdd60XbrtbrtthYu8pDszb973vpk3M28GGITMX7tiUEnC8huk4IvbEdBPuT0tS05akoVHXbI0FbIlPhYfCUXvt1jUpfkH6bT+fsYhOWdvhi+ZYyA/FggpLE5JUSh8Nbpj6nZGPkG7O22204ZRzGH2ZitFnEUGXp/aUajMtRmwyb5eHVrwKDyQU+ZKQZ/mdh1kwBiUktxqzk1dTxTNowuAiNXy6Gmp3l2gwVV8m9CFP8iFso1rzhOVJTn3qNMxQvkDc6o7RtAJkK93nBAFtfXhLJruLObbW+rm/vSpCpo8HnCxaARSGlKYeWHgeD9wpI1h+V5mVSKpFDZjcVoo54038DSI2G/A2wiExhux9NJvYaWGufaFPVO3AoWqorbjnIssbRS1gRnYio1TVyo2c33ovJbiU3QyXCGEUTytB0+NT3aVTRRODslB1XOms101mEa0N2Da07RNaY87CafkWCjtY58RZmG5v7f6vts6oITLlyJRhEQGpw1vishA3qOQB6NniKPxZkh26YJoPRaT2Smu65m9Tdwb4qRsIC6N2sU3+hNQNANbiwz6rzoJkJ15H9uA0SlqPcvQMcDhF6l6dqwlD7JbNc/zrsp9zZbZLfwA7DZSWbuqA0YZiNOtXCGhNPf4lAvZNMTeM8aqHkUl5IZh6EnVuKhmc9++kNIAaYJaik3RreY64VYys1K2ZZ8/pcC19u1biAsHqiZFAtS4O/5Dl9fAzq3Df8LqZisonoIfjyH62j7NWa0B4lRX5DuZ4bCmwq9p4u0pDomN0N3hOfMHqRjw5bmObpHJSeYndfSOcKiBdfi6Y9h40mmDBtK6SODJJLaTdDMYuZeMIRSkTFpAHhEJioYqfi2dmYd8ZM1A00mG0DvxqBVC9cga4Bd8irAJJ5JIiRnRrOg6cRLHJxQBCJgDzz1uRt+DH4KAgV5i6cyNJG8U6VzcVWQTTiRks9yn4lumoTeGtuEw6gMZ5kjQg5WJBoTnvOW4LP0lZ2yxzDaIoFISOz/utrMdskbdAXGNAXQP/x9Dzdgz9wH6R5aCkw++entD/tNBNGr5i6rckKRvwUFcxPkXT3Y9auh/yzsAAAAASUVORK5CYII="},"2hSG":function(e,t){},"2xsP":function(e,t,s){"use strict";function n(e){return o.username.test(e)}function a(e){return o.password.test(e)}function i(e){return o.qq.test(e)}function r(e){return o.phone.test(e)}t.d=n,t.a=a,t.c=i,t.b=r;var o={username:/^[a-zA-Z0-9]{6,15}$/,password:/^[a-zA-Z0-9]{6,15}$/,qq:/^[0-9]{4,}$/,phone:/^1[0-9]{10}$/,bankAccount:/^[0-9]{10,}$/,withdrawPassword:/^[0-9]{6}$/}},"3cLJ":function(e,t){},"44uL":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA2CAYAAACFrsqnAAAAAXNSR0IArs4c6QAAENNJREFUaAXVWgmQHNV5/l/fPcfOntrVAUICZMEmil2Y4ESyLQsjzKHiEKF8REnsKikpEmQ7B4cpUVsQQJjgQxDHuIDEdsAQBXA5IAySLYlyXDESKSEihFBgxWq1Wq12Zo85evp8+f6endFqd1bSSiKpvK2e7ul+///+779fzwo6wZC5NRlKarMotAoi8fAhIhGdYPqkR3Kr1A4/dNujRJJmbnroLwSJQMrHdBrdcx4pikapCw8K8eeFSYSncUPUoykfWTJfM6K7VPIul6E+G5MKUqU9oTBe0sQFG0Xmif+uRzf+3sD1d19FvYe/IQv+kniRpaXtLX/bu1uIcClF4kIiRRMaHYjI+KHSuPTvhOgqj6ef7vUkIDJ342ISH2wkPZhJLh5HOHiWhg9dUOQaw6SkvqeUO+4XHT8uTlwwe9Vtc7yRwr2iUFqllhQ1OL9Aqa8cpdTSPFFSEvkwasBUuNZwsnSiUvAMNWe+LMS20wbDItaGzK+aEYXeNiUz4yLy01hwL45uIg/LAhCWJkXFh6lQ6Co7JDV9TW959dfMoG9NV0J7N3urHCl+XXNluxMFZN+YpYbVA6Q0+wCgHHPM2qrMUSORkhQ5DY+ozVvXMq/TGTWWTBwW71inqCP3BEPRQyI5+23hvm1IUVyuiOKnhZ5vpSAgydrE+sICaaCVIjX11/0rLu3T3dw9ihMs8v2QwlRAmb88TMmrhzAnJBliLkJCIsRkIEgJAMoFG7aO/dvAAqDa3lJJbfh4uvU1aG/6owZEylvNoH/n61rOX+SNtN9s/v5LGyvspFIs/nN7Ith0g5QDXxXqyAJyAQgWEgoQWRqNfHsWuT9qBi4IbcBO9/eQ9WmAKIG9eh7uzaBoeB+Fh3zSMEfBHAFSyX8sQUkjtS2koDH5Lb1l+19NHwb0VCPyhi+ERjuphJuG8sdYZgykiJLJVYdF5iffE5l/+mgUzf1aGKZGI/h3iCmyHFD6K71EnQUKSwolPz9I1qcYhElSX0xSaSF/H0C8GSLEQlLNECHHJgUYHIrEOfJJ5nDtOyv94RXLajJN46IGxA/6LSUiJCr+OLo82PtnN0zic/j5i5Uh5SP+6yny3kywSuNkoKRDStycJbXDp+TKQZIe3Ej/WBxfwf43SXFcMua6pCTCY/qJmUNXiD8hFbgfFFikuYX14oXeT6y9mWRXTbZJctS5MaZ18Jd/ODM68O5bSn/YwtqSRqYQqR1f1H7nJ/822vtoS7r82m0yGFgr1KJFbkhe1iDRCNCzfGgWMmd1Kv28kdKrjoDXPBIhElr2CGIBWYkTBIOuDl6Vv3v4ABCYjSTiqry3iUbunEtaA2ymas+FHU3rZ2365s4q2YnONSA8KTjyyY3qoHNTNIwFNARiqJWlNfNFoY90KpZzEZXhAliUBzsevIKUNEAnMZeFQboWNjsOdMEgykDAcRTn75is8gHtkws6TgIsAcipgyj3ndnkvtJEZERko8j4KjmRpX9X7zz/kbYnb++rENf/PA5IobBykZXreU3tDzOS0yVrEgrlhSKJDxWC4qgIxwICFAvaikPl7zzwnIN8uHLJd2QcB5gbQnhkvfH9gUSali2t5OxrpRGUYE7HoGCyOIBtRScY9QA1pO5rv+VPfyRu7mQbThrHAeGnjly2zOwpv0jDjk15aBkz2HVqroFryYGqVB/ge1MEN8PiY1hkPwCX45CuaJuB8LPxzHBPQuuyvZ3c7rk0sm6YoiHwZCwThgZIhqaRp4ttYnbrfe0/Xf+LSsY4NpFFrI2+FV3nioO527X5g6uTa3p0c0GR5CgeI5MJCMF/PGJ54ov4K0kLQOawEBDOwflgZX78lEnYB3kwIdBKKF00oAha7VR8tYPyj3kkkIKlNjYvnjz5wxQoxLoiFdt8QpvdcW/zxq6e6izmTHLDBnPguffW0nB+rR7JOSWuE8j19rJRSqwYIuOCIilczIqYXmQXYUGZsHJANKJzcC+JFuYIXCKH+8x57IjDyoRrJjAPMRQVNXLfSFPx+Sbyd1twXzWuSczuZENAKbYKd1Ool5obNnTccOUGsfZqV3R/oetz9rsHuwxfXubBX9GeVnjhJD3YAID0BQ4ZHyuRcUmRjI/mAQpTOGD5EOcghBDc2vuYO4L2Eg8jEEN7HD8cZ1xzgiM6ebvS5P8Xkt5/plAc9YqF9VMRvyLS+E8N/m6yu6niN4PnNndpatJ62Rt1yGetsIDVgWthYpFQIXdXEtZQSJ8HywxBQLgQyyk5LtQe0PUigOFeTIsWrTLwDG4Zuxrzyglyt6eovD0Tx4EC3rElq9OneeZEl3PL1FcavYwuanuZ44iKIdoGnA2oWucLIEIRpsgXpM7wKX3dUUosHybVBjnnjGq/hSzE9IIzWnVULYrvEi2U4IIHIGqHR82391D5ijQVnp1B/l4UVM50dYK7ymriWbBcIAlQPQ96Dh3yCuR4Hs0Gjzi8eCHomFzIE0CzDEgzBCU/O0ipm3KkQQh2sxhElTu+nnQwY56HI64ZUI51ySgZFxeotLmJCi+0UXQUhRV1o2LOqTlyomEQWd+hbgDIo61hHai8BgYn7XhUvlaypYNdQdPKfmr4soM0iiKI4lV5Xp01gWjs68QTu9/4EVN7CqlQX8N1WbIvy1PhuTZyftkIRUEsfZxlxwjZCswmH/jU4xboaODET2qGHPOAGpDxC/K1TLrkAZCqnA/UWRJ+FlpjlhCHuUA9zIOFwyl+xJqVcEfiis2DXYcLKlr34wbSMHcBWmtAjbf0kf2pERp9po283QiwOEEwR/ZagX1YRH1eEa5UJB9phetxvGA849jHBJ1VHlTYYDFvkLz8u2itGiiwLkIZ0JGWI/KRgYZ+MJOCfqOS+21J/oBBeQgT4EwWagTmFbY3UXlnAxpIgGZQEwdnPbiseXGRmu/+gDJre0lrd6E01pSk/qBEu4qD1O2OoikACGZRhw2z1SxVo/r7S4YOnOgpouI75HotiBukzldsKj01i6KCGm9hZaRQaWMjFX84g4Iek4pPt1Jy1SAlbhqE/+uU/cEcSlyZpSS+G7MQ+Zws4sLIy1cGsj4SgqTU8iFKfjxPfU800Z5XDMpJuDbEYMucaFjYtGnlsr9J0dTlmlCwQ+VYOB5yzIKLQZCjEPVhaOsCCgc0sprRAb+RIufBRnJ/k0IdgTCJiMLDBo2sn400myaRgcrhKs4rLeTCMsnrARDCxu08XLAqHgvKseCNhjQ4NEi9s7KUDeaTWjHMlBh00PimTmXX26TM/cc7r1Fbm64ObX0n+1+V+WRqWAeEHAc+Ni5FxFz2wVnk7QAIrjdV10EgK5jj/Uea3M2NBG/EHj+iaFSj/BMzKbduLpV2IBY4X+KI6xEuB/uKtP+tATraW4gzpBJX3clS8B2WUWXChLWz5YL5K5c9/c1r4hiZ/+9/v9m96pLVeSwYhlzYpoKD+3CL+CkSTBkWKosgttT4JWObcsUe79TcJYO/916Chh84l4YfPoeCg+hLRz3a//ZR6n0/R4GHeqbGItWNhTiDAWCIBFA0iZpXfHL1FVsee57XrmUtI22KIeTmYrlECZGkJriYAmFC9ukpBvsv10Z2OQ1uyfVHwc0YyBQ0ClsBf0O/bKB39pYp8UfdoMFaXIjjUZ+aaXg7UPBdKqCi61aKFIvfgFRGlRopXBEpI4F0q9JoVKIDP7Vp6Ndwm3hGbX6VrnauWi/A+g4qvQdtsTrrUaAJituwg16edgUD1Mf+Gb9hqbED6fFAmD9bogwlD5YLNIqKzj1WC4Ak1WP+V7MIs+I9RsK0SEeqcw74dPCFJGkX5/EaS0URqyfaOAFwyRDi7gCyGHAlbuxYLNYFQxtEMetGUSuE2B6jJUbzMHVQ4hmD8NGOFFDQnMBD+wQAdhp0kAcHOqDaOA4I3+WFNQieslUybAcxIymPPbqpK2ShBY+L29i+osZl7KIKNYRWHZiIs4oBny8ihXNVHkB7wY0iZyl2k7oDTCBvLEfBL6Oil2NAGTNBCdWM03GF9nj6SUDGMzd0vGdOos6UJOpIVGnx5+VJ7EVq5TeP3PzUGTEggAgggouG9J1yDjvPIM40U5BUuICQt9jZbp0GnRHsEiJK6galdAvWxW4V4KfCX4uRyfKwONAeTgm8Ik0l4OFwB/3GXpLLPyAXPlSNj/pw2DV4YRkrQGErTiFFzIcfo1V+f6tNe3+Whlco1GqnKGPYsQUjBjFZyNqdE1qkOosZ6CgyOt4qeoiV0aRHWSdPKezUkpoVa/pEy7BKph5IALyhQyYK0WMEhUZqMpOUtPFOGERTuuAEhqcEhGlibcAvTABJolUxNB2psExldKUpfLdVtOPVeRMWmfgVXgcBESk4B4iBwMU7MKRwI2lSBlbwwYvf2J3IAhN5njKQGiFzhwQWfNdAAnCRTYYhSEl1qUFPIFupJxQgBov+TJuRp9Yr9gNIERlRI922SbXQk8T5fjoQKpJNH0hMV/F9rjkJ+HAQBuSgUA2W83C1SnDys2pMsPDxAQVwFzviONTY3k8JJA5FpgCE+xgMxAHPO51xmkCOLcXuoaOD5pTtoj6UfI/KOCeRaVIa0iWm8hyO81LgoqCV4z2LqSXJNNHih7Dg9A1wTICxqzMGUhOC3Q3W4KLF7jbqlRA/Htm6GafgHOqIH4XxnJSdgOVQPkFTo58k2vRunDGQ8cuxYrlnsjkZhDqKoktZtBVZuBwLzW2FCetF2DidKMuN53mq12cVyPhFVWwm0koCv065lI7sGEClomPWWXCl8Wvxda0g4gcXpfpGYuKk0/4eu5uOyoyem93otBlNJmSloNYfk786xZBRNgjD3gRMz1uHszHYfSptBbLRWeLJnbANa0ciOiS90YNVOWuIOtat7tabmhZ7DfbjwtSkecxY1bn/52cdNUbRNRmmEo8nF867/BP334U3zZVxXIx0bvluD5S4Zve1X382fG/oroyhLdXQmnh4nXN2HaO6/Kmd2eW5k4gMdZs5p+2+azc/OelnhZpFaiwh8aKXvr1F/fzfXCkvNFeHgX4gZVXaidqc/40L1B6uQRbqkzD1A1pTevWC59Zfee2WJ7fU0+pkIGNCdnZ1eufc/a+PF1MfWeyE9iOaprkWWqCY+4cNBBbgd/W6ZbrUlnmk4ZLfWnzNG88+3tlZ/9cqFuc416onX9vCZ/i3u7XOns/9S+SPPmBb+SV4cf+hDWZtcMLJmJuVlsZvXLf1yTfqWWCiACcFUiWwO3/+K2Sgz7g9n70l9JWvWro2P4hfYrIDnOnglxYy/rcUpVF/TyYzd16/+6kXkKF4b3ZKY0rXqkfNjK25v9gwsnfxpbJZv1sYZp5/DjvFteqxjGktfnmtqPlIaX+47U/m/u4f7Ht6YwyiLkX9m2ciA+1ZeXuncii3PhguXIOfxIRfp3EK0V91e9i2jnsm0aI0XZaleTf1UhioeJGSeFExGu/o/OKOPfXFPPndMwISs8d/KLyzbPDaaLhwLznuogAbpPFbonpAhK9Rx+IhmnFD71tCzHpw4ZdefxpZ5IxK5rRcq65eRFe0cOujPytdet7v0YzGO4ShHbHwqmaihmIpuR5wOk0oR3xqvUe7YM6ShV/a8dSZgmC5Jq5XV9bp3Nx/1a1znFzpXjFS/IIaCbOEF2vsWnHDqKmhmrZ/HDXZ61Zue6p3OnxPNvesA6kuuG/JmiVeofxA6LhLut1hCmzjV8nz5tx/9cv/8HJ1zv+bs9y6Vdu1/Nbvv3r56u9vxfWHKfj/AGtr5m3lVu/0AAAAAElFTkSuQmCC"},"4BZg":function(e,t,s){"use strict";var n=s("c/Tr"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("M4fF"),c=s.n(o),l=s("gyMJ"),u=s("0xDb"),d=s("NYxO");t.a={props:{continuousCheckins:{type:Number},singleDayAmount:{type:Number},hasChecked:{type:Boolean}},data:function(){return{progress:{parts:3,giftDay:7},checkinData:{status:"",special_bonus:null},today:{continuous:this.continuousCheckins},statusPopoverVisible:!1,rulesVisible:!1,loading:!1,loadingSpin:!1}},computed:r()({},Object(d.c)(["user","globalPreference"]),{checkinSettings:function(){return this.globalPreference.checkin_settings},progressRows:function(){var e=a()(Array(this.progress.parts*this.progress.giftDay).keys()).map(function(e){return e+1});return c.a.chunk(e,this.progress.giftDay)},checkinDay:function(){return this.hasChecked?this.continuousCheckins:(this.statusPopoverVisible=!0,this.continuousCheckins+1)}}),methods:{getProgressWidth:function(e){var t=e*this.progress.giftDay;return this.continuousCheckins>=t?"100%":t-this.continuousCheckins>=7?"0px":this.continuousCheckins%7*10+"px"},checkin:function(e){var t=this;this.checkinDay!==e||this.hasChecked||this.loading||(this.loading=!0,Object(l.d)().then(function(e){t.$store.dispatch("fetchUser").then(function(){t.statusPopoverVisible=!0,t.checkinData=e,t.user.continuous_checkins%t.progress.giftDay==0&&(t.loadingSpin=!0,setTimeout(function(){t.loadingSpin=!1},2e3)),t.loading=!1})},function(e){t.$message({showClose:!0,message:Object(u.b)(e),type:"warning"})}))}}}},"4G8c":function(e,t,s){"use strict";t.a={name:"Maintenance"}},"4p1p":function(e,t){},"6VpE":function(e,t){},"7zPv":function(e,t,s){"use strict";var n=s("//Fk"),a=s.n(n),i=s("a6lS"),r=s("M4fF"),o=s.n(r),c=s("0xDb"),l=s("hU7x"),u=s("Av7u"),d=function(e){var t=u.enc.Base64.parse(e),s=u.enc.Utf8.parse(i.a.decode.replace(/"/g,""));return u.AES.decrypt({ciphertext:t},s,{mode:u.mode.ECB}).toString(u.enc.Utf8)};t.a={data:function(){return{resultsMap:{},countdownMap:{},codes:[],encoded:d,number:0,timer:null}},methods:{loading:function(e){var t=this.countdownMap[e];if(t)return t.days+t.days+t.minutes+t.seconds===0},startCountdown:function(e){var t=this;e.next_draw_time&&(this["timer-"+e.game_code]=setInterval(function(){t.$moment().isAfter(e.next_draw_time)&&clearInterval(t["timer-"+e.game_code]),t.$set(t.countdownMap,e.game_code,t.getDiffOfTime(e))},1e3))},getDiffOfTime:function(e){var t=this.$moment(e.next_draw_time),s=this.$moment.duration(t.diff()),n=[s.days(),s.hours(),s.minutes(),s.seconds()],a=n[0],i=n[1],r=n[2],o=n[3];return a+i+r+o===0&&this.pollResults(e),a=a<0?0:a,i=i<0?0:i,r=r<0?0:r,o=o<0?0:o,{days:a,hours:i,minutes:r,seconds:o}},pollResults:function(e){var t=this;clearInterval(this["timer-"+e.game_code]),this["issueInterval-"+e.game_code]=setInterval(function(){t.fetchResults(e.game_code).then(function(s){var n=s[0],a=t.resultsMap[e.game_code].oldIssue,i=n.issue_number;a!==i&&(t.$set(t.resultsMap,e.game_code,{displayName:n.game_display_name,oldIssue:i,resultStr:n.result_str,nextDraw:n.next_draw_time}),clearInterval(t["issueInterval-"+e.game_code]),t.startCountdown(n))})},3e3)},fetchResults:function(e){var t=this;return new a.a(function(s,n){l(i.a.latest_results+"?game_codes="+e,null,function(n,a){if(n)clearInterval(t["timer-"+e]);else{var i=JSON.parse(d(a));s(i)}})})},initResults:function(){var e=this;l(""+i.a.latest_results,null,function(t,s){if(t)e.$message({showClose:!0,message:"系统发生了错误, 请刷新再試或联系客服",type:"error"});else{var n=JSON.parse(d(s));e.codes=o.a.map(n,function(e){return e.game_code}),o.a.each(n,function(t,s){e.$set(e.resultsMap,t.game_code,{displayName:t.game_display_name,oldIssue:t.issue_number,resultStr:t.result_str,nextDraw:t.next_draw_time}),e.startCountdown(t)})}})},getPositiveNumber:function(e,t,s){var n=Math.abs(e-t);return s||n?n:e},runAnimate:function(e,t){var s=this;this.runList=function(){var e=Math.floor(250*Math.random());s.number<5?s.number++:s.number=1,s.$nextTick(function(){s.timer=setTimeout(function(){s.runList()},e)})},this.runList()},stopAnimate:function(){var e=this;this.number=0,clearTimeout(this.timer),o.a.each(this.codes,function(t){clearInterval(e["timer-"+t]),clearInterval(e["issueInterval-"+t])})},init:function(){this.resultsMap={},this.countdownMap={}}},watch:{"resultsMap.bjkl8":function(e){if(e){var t=e.resultStr.split(",");t.pop(),e.resultStr=t.join()}}},created:function(){var e=this;Object(c.c)(function(){e.init(),e.initResults(),e.runAnimate()},function(){e.stopAnimate()})},beforeDestroy:function(){this.stopAnimate()}}},"9LYF":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"red-envelope"},[n("div",[n("div",{staticClass:"flick text-center"},[n("div",{staticClass:"icon"},[(e.success||e.repeat||e.fail)&&e.currentEnvelope.sender.avatar?n("img",{staticClass:"img",attrs:{src:e.currentEnvelope.sender.avatar,alt:"avatar"}}):e._e()]),e._v(" "),n("span",{staticClass:"close",on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("×")])]),e._v(" "),n("div",{staticClass:"header text-center"},[(e.taking||e.success||e.repeat||e.fail||e.expired)&&e.currentEnvelope?n("div",{staticClass:"title"},[e._v("\n        "+e._s(e.showingName)+" 的红包\n      ")]):e._e(),e._v(" "),e.success||e.repeat||e.fail||e.expired?n("div",{staticClass:"postscript"},[e._v("\n        "+e._s(e.content?'"'+e.content+'"':'"恭喜发财，大吉大利"')+"\n      ")]):e._e(),e._v(" "),e.sending?n("div",{staticClass:"slogan "},[e._v("拼手气红包")]):e._e(),e._v(" "),e.sending?n("div",{staticClass:"balance"},[e._v("\n        我的余额 "),n("span",[e._v("¥"+e._s(e.user.balance))])]):e._e(),e._v(" "),e.taking?n("div",{staticClass:"loading"},[n("div",{staticClass:"money-circle loader text-center"}),e._v(" "),n("img",{staticClass:"money",attrs:{src:s("lYLx"),alt:""}})]):e._e(),e._v(" "),e.fail?n("div",{staticClass:"result lose"},[e._v("手慢了...红包派完了...")]):e._e(),e._v(" "),e.expired?n("div",{staticClass:"result lose"},[e._v("红包已过期")]):e._e(),e._v(" "),e.success||e.repeat?n("div",{staticClass:"result win"},[n("img",{staticClass:"money",attrs:{src:s("lYLx"),alt:"money"}}),e._v(" "),e.currentEnvelope?n("span",{staticClass:"text"},[e._v("￥"+e._s(e.showingAmount))]):e._e()]):e._e(),e._v(" "),e.success||e.repeat?n("div",{staticClass:"congra p-b"},[e._v("恭喜你抢到红包啦!")]):e._e()])]),e._v(" "),e.sending?n("div",{staticClass:"form"},[n("el-form",{attrs:{model:e.send,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"金额",prop:"amount"}},[n("el-input",{attrs:{type:"number"},on:{input:function(t){return e.validate(t,"pack_amount")}},nativeOn:{blur:function(t){return e.validate(t,"pack_amount")},keypress:function(t){return e.filtAmount(t)}},model:{value:e.send.pack_amount,callback:function(t){e.$set(e.send,"pack_amount",e._n(t))},expression:"send.pack_amount"}}),e._v(" "),n("span",{staticClass:"hint"},[e._v("最高金额 ￥"+e._s(e.globalPreference.envelope_settings.max_amount)+",")]),e._v(" "),n("span",{staticClass:"hint"},[e._v("最低金额 ￥"+e._s(e.globalPreference.envelope_settings.min_amount))])],1),e._v(" "),n("el-form-item",{attrs:{label:"个数",prop:"count"}},[n("el-input",{attrs:{type:"number"},on:{input:function(t){return e.validate(t,"pack_nums")}},nativeOn:{blur:function(t){return e.validate(t,"pack_nums")},keypress:function(t){return e.filtAmount(t)}},model:{value:e.send.pack_nums,callback:function(t){e.$set(e.send,"pack_nums",e._n(t))},expression:"send.pack_nums"}}),e._v(" "),n("span",{staticClass:"hint"},[e._v("最多个数 "+e._s(e.globalPreference.envelope_settings.per_max_count)+" 个")])],1),e._v(" "),n("el-form-item",{attrs:{label:"附言"}},[n("el-input",{attrs:{type:"textarea",maxlength:20,placeholder:"恭喜发财，大吉大利"},model:{value:e.send.content,callback:function(t){e.$set(e.send,"content",t)},expression:"send.content"}})],1),e._v(" "),n("el-form-item",[e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),n("el-button",{staticClass:"submit",attrs:{"native-type":"button",type:"warning",disabled:e.loading},nativeOn:{click:function(t){return e.sendEnvelope(t)}}},[e.loading?n("div",{staticClass:"loader small"}):n("span",[e._v("确认发出")])])],1)],1)],1):e._e(),e._v(" "),e.success||e.repeat||e.fail?n("div",{staticClass:"data-container p-b full-height"},[n("div",{staticClass:"data"},[e.currentEnvelope.users.length!==e.currentEnvelope.total?n("p",{staticClass:"title text-center"},[e._v(e._s(e.currentEnvelope.users.length)+"/"+e._s(e.currentEnvelope.divided_into)+" 人已領取")]):n("p",{staticClass:"title text-center"},[e._v(e._s(e.currentEnvelope.users.length)+"/"+e._s(e.currentEnvelope.divided_into)+" 已領完")]),e._v(" "),n("table",{staticClass:"table"},e._l(e.showingList,function(t,s){return n("tr",{key:s,class:["tr",{self:t.receiver_id===e.user.id}]},[n("td",{staticClass:"td"},[e._v(e._s(t.nickname))]),e._v(" "),n("td",{staticClass:"td profit"},[e._v("¥ "+e._s(t.amount))])])}),0)])]):e._e()])},a=[],i={render:n,staticRenderFns:a};t.a=i},"9n/j":function(e,t,s){"use strict";var n,a=s("bOdI"),i=s.n(a),r=s("Dd8w"),o=s.n(r),c=s("woOf"),l=s.n(c),u=s("QmRU"),d=s("7+uW");t.a=(n={},i()(n,u.p,function(e,t){e.user=l()({},e.user,t)}),i()(n,u.e,function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.user={logined:!1,roles:[]},d.default.cookie.delete("access_token"),d.default.cookie.delete("refresh_token")}),i()(n,u.r,function(e,t){e.loading=!0}),i()(n,u.d,function(e,t){e.refreshRoom++}),i()(n,u.c,function(e){e.loading=!1}),i()(n,u.i,function(e,t){e.globalPreference=t}),i()(n,u.q,function(e,t){e.ws=t}),i()(n,u.u,function(e,t){e.connectStatus=l()({},e.connectStatus,t)}),i()(n,u.t,function(e,t){e.chatList=t||[]}),i()(n,u.v,function(e,t){var s=e.user.roles.map(function(e){return e.name}),n=1===s.length&&"member"===s[0]?e.rooms.find(function(e){return e.room.id===t.roomId}):e.rooms.find(function(e){return e.id===t.roomId});n&&(n.hasOwnProperty("is_read_latest_message")?n.is_read_latest_message=t.read:1!==n.type&&(n.room.read=t.read))}),i()(n,u.w,function(e,t){e.unloginedDialog=t||{}}),i()(n,u.s,function(e,t){d.default.set(e,"chat",o()({},e.chat,t)),e.chat.current.roomId=t.id?t.id:t.room_info.length&&t.room_info[0].id}),i()(n,u.l,function(e,t){t.roomId?e.rooms[t.roomId]=t:e.rooms=t}),i()(n,u.k,function(e,t){t.roomId?e.roomMsgs[t.roomId]=t:e.roomMsgs=t}),i()(n,u.j,function(e,t){t.roomId?e.restraintMembers[t.roomId]=t:e.restraintMembers=t}),i()(n,u.n,function(e,t){e.stickerGroups=t}),i()(n,u.a,function(e,t){d.default.set(e.envelopes,t.envelope_status.id,t)}),i()(n,u.f,function(e,t){e.conversations=t.filter(function(e){return 1!==parseInt(e.targetId)}).map(function(e){var t=e.latestMessage.content.extra;return t||(e.latestMessage.content.extra={sender:{avatar:"",id:"",label:{},nickname:"",roles:[],username:""},type:"",receivers:[],created_at:(new Date).getTime()}),"string"==typeof t&&(e.latestMessage.content.extra=JSON.parse(t)),e})}),i()(n,u.g,function(e,t){e.conversationMessages=t.map(function(e){var t=e.content.extra;return t?"string"==typeof t&&(e.content.extra=JSON.parse(t)):e.content.extra={sender:{avatar:"",id:"",label:{},nickname:"",roles:[],username:""},type:"",receivers:[],created_at:(new Date).getTime()},e})}),i()(n,u.h,function(e,t){e.conversationTarget=t}),i()(n,u.m,function(e,t){e.sendOnlineStatus=t}),i()(n,u.o,function(e,t){e.unreadConversations=t}),n)},"9zcv":function(e,t,s){"use strict";function n(e){s("M6Fv")}var a=s("Dm1j"),i=s("PApr"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-3847b8a0",null);t.a=c.exports},"B/nZ":function(e,t,s){"use strict";var n=s("gRE1"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("gyMJ"),c=s("NYxO"),l=s("0xDb"),u=["pack_amount","pack_nums"];t.a={props:{status:{type:String},envelope:{type:Object},joinChatRoom:{type:Function},content:{type:String}},data:function(){var e=this;return{send:{sender_id:"",pack_amount:"",pack_nums:"",content:""},loading:!1,error:"",validators:{pack_amount:{error:"",validate:function(t){var s=parseInt(t);return s?s<e.globalPreference.envelope_settings.min_amount?"须高于最低金额限制":s>e.globalPreference.envelope_settings.max_amount?"不能超过最高金额限制":"":"请输入金额"}},pack_nums:{error:"",validate:function(t){var s=parseInt(t);return s?s>e.globalPreference.envelope_settings.per_max_count?"红包数量超出限制":"":"请输入个数"}}}}},computed:r()({},Object(c.c)(["user","globalPreference","ws","envelopes","chat"]),{success:function(){return"success"===this.status},fail:function(){return"fail"===this.status},repeat:function(){return"repeat"===this.status},taking:function(){return"taking"===this.status},sending:function(){return"sending"===this.status},expired:function(){return"expired"===this.status},currentEnvelope:function(){return this.envelope},showingList:function(){return this.fail?a()(this.envelope.receive_users):this.currentEnvelope.users},showingName:function(){return this.currentEnvelope.sender&&this.currentEnvelope.sender.nickname?this.currentEnvelope.sender.nickname:this.currentEnvelope.sender?this.currentEnvelope.sender.username:""},showingAmount:function(){var e=this,t=this.currentEnvelope.users.find(function(t){return t.id===e.user.id});return this.envelope.amount?this.envelope.amount:t.amount}}),methods:{filtAmount:l.a,sendEnvelope:function(){var e=this,t=this.send.content?this.send.content:"恭喜发财，大吉大利",s=this.validateAll();0===s.length?(this.send={sender_id:this.user.id,pack_amount:parseInt(this.send.pack_amount),pack_nums:parseInt(this.send.pack_nums),content:t,room_id:this.chat.current.roomId},this.loading=!0,Object(o.w)(this.send).then(function(s){e.initEnvelope(),e.loading=!1,e.error="",s.content=t,e.$emit("handleSend",s)},function(t){var s=t.response.data;e.errorMsg=s.message,e.loading=!1,e.$message({message:s.message,type:"warning"})})):this.error=s[0]},initEnvelope:function(){this.loading=!1,this.error="",this.send={sender_id:"",pack_amount:"",pack_nums:"",content:""}},validate:function(e,t){this.error=this.validators[t].validate(e)},validateAll:function(){var e=this;return u.map(function(t){return e.validators[t].validate(e.send[t])}).filter(function(e){return e})}},beforeDestroy:function(){this.initEnvelope()},watch:{ws:function(){this.ws||this.joinChatRoom()}},created:function(){this.$store.dispatch("fetchUser")}}},BOZw:function(e,t){},CPk7:function(e,t){},Ce9q:function(e,t,s){"use strict";function n(e){s("Y6+3"),s("BOZw")}var a=s("oBLR"),i=s("zKHv"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-0929f395",null);t.a=c.exports},ChN6:function(e,t,s){"use strict";function n(e){s("MkYv"),s("xf59")}var a=s("EVhf"),i=s("0Ljf"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-17269830",null);t.a=c.exports},D4uH:function(e,t,s){"use strict";function n(e){s("tbYJ")}var a=s("dXrS"),i=s("Uizl"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,null,null);t.a=c.exports},DRWy:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAuCAYAAACoGw7VAAAAAXNSR0IArs4c6QAAB0NJREFUeAHtm11sFFUUx8+dmd1Syi4WhEpBSNTaQgnGqIkPKikFjYomPkD8etAHfTHxwUQ+FIkofTEGI/FZn9AEEiUQNREIPBgViR+0FCgVpKW09IvSdrftfs31/5/d6Qfd7S6wxq2dm0zvzN1779z53TNnzjn3VkmOqXFvtb+zOVFja/2siFqBZuWipVyLnpNjF9O6mhIVEiXteAgc+rSh1IGyCvNo9cbGaC4PprJVOvpR9R3xWHy72PIS6gaz1Z9hvw+IIXssn/VBzabGK1M9e0bQzbufLGrpv/CuVuot0bqEnczxaykt0RIs1uK3eIiYGXuY6rbT77eEFonGeSgZGFbSF1YSiqYeXqmw0nrXsrl31VW8+X0k3dOlxeRIcTTxDQA/zEbzAXfp/IQU+9J1MXPLhmMirb2m9AK6k5T6xfKbz6WT7kmgD9etXCV27FtM4JIin5bKhbbMmYUrL2UkEBpR0tRlSCQGTS7Spn3qqXVbzjaMbzABNCU5EYmfIGSqh8qyhPjM8dW980wEYgmRpk7TUSuEbRZZD42XbMNtSJ0ch7pwIVcv8iC7bHLJKZBkRgElQ7IkU7ftKGh++KiTHXUBSVYTZN2t7uVTESAzagEyJEuHaaqBgzP18fuL1sWqxQlPJ09FM4ffqLPrL0PEYY3g43gPVYgj0Y6dDMi0LrwPXw4ks1QhQ7Kk4DpsUV/R42tvinfjPHj/0rhnwmWBmOvPNP3+aIWjITJQXmktMOhW4yJIZ8Szk3PFmL0eWZIp2ZKxkYxdiOPxZW/u1bgRAvSimcgYOtoJEDlmyY104tXNToCmXjKpFfwYlvOCsQsv5ZfAOKblBkOd7J4BIi/ll8AoUzA23HjyTInC5Rfl1L2plJLQCIEgfq36WD0OX91L+SUQTaTcay3t1NEd7H60ML/3mtG9MX7NBNe8g6rDAR1BQNtL+SUwAFfcSUrOGEqrX3nRP5ws8/7mj8DVoSRoLeqgIaYcZNdXw07YI393meE9jWARIBzB55CBpfKyI0bt1uePg0nXCHxzroV5KT8ELvXBciZm0V/VvHpsBFbH+zYsj0/ZfctVT6rzgZmLtj0hKGWREdNXtIN9OmQXFPkJumsQyrs35En1rcCO2yLNV0xHmrGD4LOazfVto6Dve7s+DIv6PRac7zE1Q3xeujkCzVg3JD9oid9LZpdud3uZIL6HPqzag2j1i8UI73H9a9SFdGt7eUYCCRsr4Z2GXKOloaRbLOvBdVsaW90GE5Ry6cKS11Dt5DB0TEO7pYfw5fRSdgKwLqShLQkZktyJsBG2G4xBZg+TSP60q3reUDi+H276o5ah9Z3ztFo0F4rHS5MIcNfSJRgQXfjw0cIAzgbsz1h/PWQ2nASahVwmv9j/9+dUI7ye7RdZXJpw1sGMtC1Y6/+f3C1hg9j01RsyZBB2cgpwFCR3W6Xmjpo3GkPpSEyJ7VDd8qexPPAJgFewsYmPaWmxrWZjt0Ix4tezsFxjwok3oIAsHIU+CZTAKIJnzLnhhQethASOZK6Ee+w0yhMwzvgea/xhbiNWYdsTBRNGMvxp9bWYvu1rtzZcIKNMaUrQbMTF247mxCu408u4zSPJGczUXQo44LvgndydiAzlnCyGaTGRyRz1WXaziQDpfFF3hvG9oZcWiQOU83rfXK/0PESrToyqBafNuD5we1HRd7TYcukxK+jxnRzZuXyZrexaOJaVuO29sGGW4sZBGI1B3DiASSgeX/9WzvlgOBQnqgqbUrJtg6BE9gxCXw46cFOv9NgI2J8DSkkbztqV0t3g3o3ue3Hdrwyj37bVgJiaO0PDyrLDOmaMGH4jYiWMyLy77XCue6HH7jp2dkOgx5qlP9N7N5jHLjcH4pFYEFomoOI6gJAsJkAHoVYCePUCnBBODN6OACYpgEkL4ByThWuUYUABvI5BtOFWYXAQWbUEoIvSSzgmVzoGDLncZ2hIcup51BDOfgSw44ap/oRua1JlC8/TFU4/8n+/NK+g8zlcgFZ4g05ADB/IBJoq4kyHKSGoCCZM4gWtjY+tJWVf/JdQ03Eo2JVC2KP68M6qAUg6P0STEvXuqQ5TR2OUYtUKz3ZzbcXKfWrjPuKfVP+/LihY0CkwjqlE/Ts+8ZqSTMiQ4vPaMtesdRyEwgPsjtvRge5FoeUQ5CaOafC68O3FntF4wjkls1ancxAK7VkKGrRpmPsJbPyiBCOM3fDEoDAS+FQ+U7vt5OVCg5puPAUNumbrhp+hgNsYDeuE2cbUfi0ZUIde3rv2nbPn0j1UIZYVNOjUosQmgmvpNbXz31DDCKjDJjYto64QgWYaU1JMMv1aIOWHdlZ9Cdv7Bbr4jgWi1A/rtp19okCGl9MwClqi3SdAsOZ1SHG9a+ZBQ//m/jZd8mkBmhExn/jWQy/zX4SR6cbpAtgd57QAzcGu3nbqkukzHsd/P0WV3yhcg9kle10+bUBz3Gu2nG40xX6s2Lpt2oH+B9sHzdvaxTIbAAAAAElFTkSuQmCC"},Dm1j:function(e,t,s){"use strict";var n=s("Gu7T"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("D4uH"),c=s("gyMJ"),l=s("NYxO"),u=s("M4fF"),d=s.n(u);t.a={name:"chatlist",components:{Icon:o.a},props:{releasedUser:{type:Object},restraintedUser:{type:Object}},data:function(){return{loading:!1,chats:[],pagination:{total:0,offset:0,limit:40},interval:null,searchData:{searching:!1,input:"",result:[]}}},computed:r()({},Object(l.c)(["chat","chatList","user","ws","restraintMembers"]),Object(l.b)(["myRoles"]),{showing:function(){var e=void 0;return e=this.searchData.searching?this.searchData.result:this.chats,e},isManager:function(){return this.myRoles.includes("manager")}}),watch:{"searchData.input":function(e){e.length||this.exitSearch()},releasedUser:function(e){var t=this.chats.find(function(t){return t.username===e.user});"unblock"===e.action&&(t.blocked=!1),"unban"===e.action&&(t.banned=!1)},restraintedUser:function(e){var t=this.chats.findIndex(function(t){return t.username===e.user});"block"===e.action&&this.$set(this.chats[t],"blocked",!0),"ban"===e.action&&this.$set(this.chats[t],"banned",!0)}},methods:{handleChatClick:function(e){this.$emit("getChosenChat",e)},exitSearch:function(){this.searchData={searching:!1,input:"",result:[]}},search:d.a.debounce(function(){var e=this;this.searchData.input&&(this.loading=!0,this.searchData.searching=!0,Object(c.v)(this.searchData.input).then(function(t){e.searchData.result=t,e.loading=!1}))},500),fillMemberChats:function(){var e=this;this.loading||(this.loading=!0,Object(c.p)(this.pagination).then(function(t){var s;return(s=e.chats).push.apply(s,a()(t.results)),e.pagination.total=t.count,e.pagination.offset+=e.pagination.limit,e.$store.dispatch("updateChatList",e.chats),e.loading=!1,t}))},enterChat:function(e){this.loading||(this.loading=!0)},initChats:function(){var e=this;this.fillMemberChats(this.pagination),this.interval=setInterval(function(){e.fillMemberChats()},6e4)},ban:function(e,t,s){var n=this;Object(c.a)(e.default_room||this.user.default_room_id,{user:e.username,banned_time:t}).then(function(t){n.getUser(e.default_room),n.$set(n.chats[s],"banned",!0),n.$forceUpdate(),n.$message({showClose:!0,message:t.status,type:"success"})},function(e){n.$message({showClose:!0,message:e.response.data.message,type:"error"})})},unban:function(e,t){var s=this;Object(c.B)(e.default_room||this.user.default_room_id,{user:e.username}).then(function(n){s.getUser(e.default_room),s.$set(s.chats[t],"banned",!1),s.$forceUpdate(),s.$message({showClose:!0,message:n.status,type:"success"})},function(e){s.$message({showClose:!0,message:e.response.data.message,type:"error"})})},block:function(e,t){var s=this;Object(c.b)(e.default_room||this.user.default_room_id,{user:e.username}).then(function(n){s.getUser(e.default_room),s.$set(s.chats[t],"blocked",!0),s.$forceUpdate(),s.$message({showClose:!0,message:n.status,type:"success"})},function(e){s.$message({showClose:!0,message:e.response.data.message,type:"error"})})},unblock:function(e,t){var s=this;Object(c.C)(e.default_room||this.user.default_room_id,{user:e.username}).then(function(n){s.getUser(e.default_room),s.$set(s.chats[t],"blocked",!1),s.$forceUpdate(),s.$message({showClose:!0,message:n.status,type:"success"})},function(e){s.$message({showClose:!0,message:e.response.data.message,type:"error"})})},getUser:function(e){var t=this;Object(c.q)(e||this.user.default_room_id).then(function(s){t.$store.dispatch("setRestraintMembers",{roomId:e,data:{block_users:s.block_users,banned_users:s.banned_users}})})}},created:function(){this.initChats()},beforeDestroy:function(){clearInterval(this.interval)}}},Ds4J:function(e,t,s){"use strict";var n=s("Xxa5"),a=s.n(n),i=s("BO1k"),r=s.n(i),o=s("//Fk"),c=s.n(o),l=s("exGp"),u=s.n(l),d=s("Gu7T"),m=s.n(d),h=s("woOf"),p=s.n(h),v=s("pFYg"),f=s.n(v),g=s("mvHQ"),b=s.n(g),_=s("fZjL"),C=s.n(_),k=s("Dd8w"),w=s.n(k),y=s("yiZD"),x=s("D4uH"),A=(s("4MOn"),s("5bS6"),s("rLVY"),s("1UlI"),s("gyMJ")),E=s("NYxO"),I=s("Jw65"),R=s("TarU"),O=s("UuGl"),S=s("jC6v"),U=s("vNDs"),D=s("dcDp"),M=s("a6lS"),j=s("FOk+");t.a={components:{Icon:x.a,Restraint:O.a,PrivateChat:I.a,Envelope:R.a,ImgAsync:S.a,Emojis:U.a,Stickers:D.a},mixins:[j.a],data:function(){return{msgContent:"",showImageMsg:!1,showImageMsgUrl:"",loading:!1,emojis:{people:[]},RECEIVER:"",blockedUsers:[],bannedUsers:[],restraint:{dialogVisible:!1,user:"",content:"",nowTab:"0",tabs:[{display:"黑名单"},{display:"禁言"}]},roomMessages:[],emojiSuccess:!0,envelope:{content:"",status:"",visible:!1,envelope:{}},showStickerPopover:!1,stickerTab:"emojis",imgLoadCount:0,needScrollToBottom:!1,ryToken:"",firstInit:!0}},watch:{conversationMessages:function(e){var t=this;e.length&&this.leaveRoom(function(){t.$store.dispatch("setSendOnlineStatus",!1),t.RECEIVER=""+t.conversationTarget.id,t.joinChatRoom(),t.roomMessages=e.map(function(e){return e.content})})},sendOnlineStatus:function(e){var t=this;e&&this.leaveRoom(function(){t.roomMessages=[]})},imgLoadCount:function(e){var t=this;0===e&&this.needScrollToBottom&&this.$nextTick(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()})},"chat.current.roomId":{handler:function(e,t){var s=this;(e===t&&(this.hasTarget||this.sendOnlineStatus)||e!==t)&&(this.$store.dispatch("setConversationTarget",0),this.$store.dispatch("setConversationMessages",[]),this.$store.dispatch("setSendOnlineStatus",!1),this.loading=!0,this.RECEIVER=String(e),this.roomMessages=this.roomMessages||[],!this.firstInit&&this.leaveRoom(function(){s.loading=!1,s.ws&&s.joinChatRoom()}))},deep:!0},refreshRoom:function(e,t){e!==t&&e<=4&&window.location.reload()},"user.memberLogined":{handler:function(e,t){var s=this;void 0!==e&&e!==t&&(this.roomMessages=[],this.leaveRoom(function(){s.ws&&s.ws.disconnect(),s.beforeJoinChatRoom()}))},deep:!0}},computed:w()({},Object(E.b)(["myRoles"]),Object(E.c)(["conversationMessages","conversationTarget","sendOnlineStatus","globalPreference","user","chat","roomMsgs","envelopes","stickerGroups","ws","connectStatus","refreshRoom"]),{isLogin:function(){return this.$store.state.user.logined&&"Home"!==this.$route.name},formattedBannerUsers:function(){var e=this,t=[];if(this.bannedUsers.length)return this.bannedUsers.forEach(function(s){e.$moment(s.banned_time).diff(e.$moment())>0&&t.push({username:s.username,banned_time:e.$moment(s.banned_time).fromNow(!0)})}),t},chatable:function(){return!this.personalSetting.blocked&&!this.personalSetting.banned},personalSetting:function(){return this.user[this.user.default_room_id]||{banned:!1,blocked:!1}},hasTarget:function(){return C()(this.conversationTarget).length>0},isPrivateMessage:function(){return this.sendOnlineStatus||this.hasTarget}}),created:function(){localStorage.setItem("stickers","{}")},mounted:function(){this.beforeJoinChatRoom()},methods:{leaveRoom:function(e){this.ws&&(this.roomMessages=[],this.ws.quitChatRoom(this.RECEIVER,{onSuccess:function(){e&&e()},onError:function(){console.log("退出聊天室失败")}}))},handleUserRelease:function(e){this.$emit("handleUserRelease",e)},handleUserRestraint:function(e){this.$emit("handleUserRestraint",e)},handleImgIconClick:function(e){if(this.personalSetting.blocked||this.personalSetting.banned)return void e.preventDefault();this.myRoles.length&&this.myRoles.includes("visitor")&&(e.preventDefault(),this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"}))},handleEmojiIconClick:function(){this.myRoles.includes("visitor")&&this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})},handleEmojiClick:function(e){this.msgContent=this.msgContent+e.emoji+" "},closeEnvelope:function(){this.envelope.visible=!1},takeEnvelope:function(e,t){var s=this;if(!this.personalSetting.blocked&&!this.myRoles.includes("visitor")){this.envelope.content=e.content,this.envelope.status="taking";var n={envelope_id:e.extra.envelope_status.id,receiver_id:this.user.id};this.envelope.visible=!0,Object(A.A)(n).then(function(e){if(e.envelope_id=n.envelope_id,s.envelope.envelope=e,e.amount)s.$store.dispatch("fetchUser").then(function(){s.envelope.status="success"});else switch(e.status){case"expired":s.envelope.status="expired";var a=s.roomMessages.findIndex(function(e){return 5===e.extra.type&&e.extra.envelope_status&&e.extra.envelope_status.id===n.envelope_id});s.roomMessages[a].extra.envelope_status.expired=!0;break;case"repeat":s.envelope.status="repeat";break;case"fail":s.envelope.status="fail"}s.roomMessages[t].extra.envelope_status.users=e.users})}},handleEnvelopeSend:function(e){var t=this;e.type=5,this.sendMsg(e),this.envelope.visible=!1,this.envelope.status="",this.$store.dispatch("fetchUser"),this.$nextTick(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()})},handleEnvelopeIconClick:function(){this.personalSetting.blocked||this.personalSetting.banned||(this.myRoles.includes("visitor")?this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"}):(this.envelope.status="sending",this.envelope.visible=!0,this.envelope.envelope={}))},showingName:function(e){return e.usernickname?e.usernickname:e.username},getRoles:function(e){return e.extra.sender.roles.map(function(e){return e.name})},beforeJoinChatRoom:function(){var e=this;this.loading=!0,Object(A.l)().then(function(t){e.ryToken=t.chat_token,e.$store.dispatch("setUser",{default_room_id:String(e.user.default_room_id)||(t.room_info.length?t.room_info[0].id:"1")}),e.$store.dispatch("switchRoom",{id:String(e.user.default_room_id)||(t.room_info.length?t.room_info[0].id:"1"),room_info:t.room_info}),e.connectRongClound(t.chat_token)}).catch(function(e){console.log(e)})},connectRongClound:function(e){var t=this,s={appKey:M.a.appKey,token:e,store:this.$store};this.loading=!0,Object(y.a)(s,{getInstance:function(e){t.$store.dispatch("setWebsocket",e),t.firstInit=!1,t.joinChatRoom()},receiveNewMessage:this.handleMsg}),this.emojis.people.length||Object(A.f)().then(function(e){t.emojis=e}).catch(function(){t.emojiSuccess=!1})},joinChatRoom:function(){var e=this;this.roomMessages=[],this.ws&&this.ws.joinChatRoom(this.RECEIVER,30,{onSuccess:function(){e.loading=!1,e.$store.commit("UPDATE_CONNECT",{status:0}),e.$emit("chatRoomReady",!0),e.scrollToLatest()},onError:function(t){console.log(t),e.openMessageBox("加入聊天室失败，请刷新浏览器重试!","error")}})},getPersonalSetting:function(){this.ws&&this.ws.send(b()({command:"user_profile"}))},handleMsg:function(e){var t=this;this.loading=!1;var s=e.content,n=s.message;if(n){if("object"!==f()(n.content))return;var a={};a.content=n.content.content,n.content.type=Number(n.objectName),a.extra=b()(p()({},n.content)),s=a}var i="string"==typeof s.extra?JSON.parse(s.extra):s.extra;switch(s.extra=i,s.extra.type){case 5:return s.extra.sender&&null!==s.extra.sender.avatar&&-1!==s.extra.sender.avatar.indexOf("//upload")&&(s.extra.sender.avatar=s.extra.sender.avatar.replace("//upload","/upload")),s.extra.envelope_status&&(s.extra.envelope_status.users=[]),this.roomMessages.push(s),this.$store.dispatch("collectEnvelope",i),void this.$nextTick(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()});case 6:s.extra.sender&&null!==s.extra.sender.avatar&&-1!==s.extra.sender.avatar.indexOf("//upload")&&(s.extra.sender.avatar=s.extra.sender.avatar.replace("//upload","/upload")),this.roomMessages.push(s),this.$store.dispatch("collectEnvelope",i);var r=this.roomMessages.findIndex(function(e){return e.envelope_status&&e.envelope_status.id===s.envelope_status.id});return this.roomMessages[s.receivers]&&(this.roomMessages[s.receivers][r].envelope_status=s.envelope_status),void(s.extra.sender.id===this.user.id&&this.$nextTick(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()}));default:if("live"===s.command||"read_msg"===s.command)return;0===i.type&&(s.content=unescape(s.content)),s.extra.sender&&null!==s.extra.sender.avatar&&-1!==s.extra.sender.avatar.indexOf("//upload")&&(s.extra.sender.avatar=s.extra.sender.avatar.replace("//upload","/upload")),7===i.type&&s.content&&null!==s.content&&-1!==s.content.indexOf("//upload")&&(s.content=s.content.replace("//upload","/upload")),!this.roomMessages&&(this.roomMessages=[]),this.roomMessages.push(s);var o=document.getElementById("chatBox"),c=o.clientHeight,l=o.scrollHeight;this.$forceUpdate();var u=o.scrollTop;this.needScrollToBottom=!0,this.$nextTick(function(){u+c>l-200||s.extra.sender&&s.extra.sender.username===t.user.username?t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView():t.needScrollToBottom=!1})}setTimeout(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()},1e3)},sendSticker:function(e){this.showStickerPopover=!1,this.sendMsg(e)},uploadMedia:function(e){var t=this;if(this.chatable){if(this.myRoles.includes("visitor"))return void this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"});var s=e.files[0],n=void 0,a=void 0,i=void 0,r="imgUploadInput"===e.id;if(r?(i="图片",n=/\.(gif|jpg|jpeg|png)$/i,a=this.globalPreference.max_media_size.image||1):(i="视频",n=/\.(flv|avi|wmv|mp4|mov)$/i,a=this.globalPreference.max_media_size.video||2),!n.test(e.value)||!this.chatable)return this.openMessageBox(i+"格式不正确或您目前尚不符合发言条件","error"),!1;if(s.size>1024*a*1024)return void this.openMessageBox(i+"尺寸太大，请选择较小尺寸的"+i,"error");var o=new FormData;o.append("receiver",this.RECEIVER),o.append("media",s);var c=new FileReader;c.onloadend=function(s){var n=r?'<img src="'+s.target.result+'" style="max-width: 100%; width: 100%;" />':'\n            <video\n              controls\n              preload\n              width="100%"\n            >\n              <source\n                src="'+s.target.result+'"\n                type="video/mp4"\n              >\n              </source>\n              您的浏览器不支持 video 播放\n            </video>\n          ';t.$confirm(n,"确认媒体上传",{confirmButtonText:"上传",cancelButtonText:"取消",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(){Object(A.x)(o).then(function(s){e.value="",s.type=1,t.sendMsg(s)})}).catch(function(){e.value=""})},c.readAsDataURL(s)}},createUserObject:function(e){var t=e.avatar,s=e.id,n=e.label,a=e.nickname,i=e.roles,r=e.username;return{avatar:t,id:s,label:n||{},nickname:a,roles:i,username:r}},sendMsg:function(e){var t=this;if(this.chatable){if(this.myRoles.includes("visitor"))return void this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"});if(!this.msgContent.trim()&&!e)return!1;this.ws&&0===this.connectStatus.status||this.beforeJoinChatRoom();var s=this.createUserObject({avatar:this.user.avatar,id:this.user.id,label:this.user.label||{},nickname:this.user.nickname,roles:this.user.roles,username:this.user.username}),n={sender:s,type:e&&e.type?e.type:0,receivers:this.RECEIVER,created_at:(new Date).getTime(),conversation_members:[]},a=this.sendOnlineStatus,i=C()(this.conversationTarget).length>0,r=this.myRoles.includes("manager");if((i||a)&&r)n.conversation_members=[s,this.conversationTarget];else if(i||a){var o=this.roomMessages[this.roomMessages.length-1],c=o.extra.conversation_members,l=c.filter(function(e){return e.username}),u=l.find(function(e){return e.id===parseInt(t.user.id)});n.conversation_members=[].concat(m()(l)),u||n.conversation_members.push(s)}var d=e?e.url:escape(this.msgContent);if(e)switch(e.type){case 1:n.thumbnail=e.thumbnail;break;case 5:d=e.content?e.content:"恭喜发财，大吉大利",n.envelope_status={expired:!1,id:e.id,total:e.divided_into,users:[]};break;case 6:n.get_envelope_user={id:this.user.id,nickname:this.user.nickname||this.user.username},n.envelope_status={id:e.id}}var h={content:d,extra:b()(n)},p=i?RongIMLib.ConversationType.PRIVATE:RongIMLib.ConversationType.CHATROOM,v=new RongIMLib.TextMessage(h);if(this.sendOnlineStatus)return this.sendOnlineMessage(d,n,e);this.ws.sendMessage(p,this.RECEIVER,v,{onSuccess:function(s){!t.roomMessages&&(t.roomMessages=[]),t.roomMessages.push({content:e?d:unescape(d),extra:n}),t.msgContent="",t.$nextTick(t.scrollToLatest)},onError:function(e,s){return t.openMessageBox("发送消息失败","error")}})}},sendOnlineMessage:function(){function e(e,s,n){return t.apply(this,arguments)}var t=u()(a.a.mark(function e(t,s,n){var i,o,l=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.y)();case 3:if(i=e.sent,o=i.users,!o.length){e.next=7;break}return e.delegateYield(a.a.mark(function e(){var i,u,d,m,h,p,v,f,g,_,C,k,y;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.createUserObject({avatar:l.user.avatar,id:l.user.id,label:l.user.label||{},nickname:l.user.nickname,roles:l.user.roles,username:l.user.username}),e.next=3,c.a.all(o.map(function(e){return Object(A.j)(e)}));case 3:u=e.sent,d=!1,m=!0,h=!1,p=void 0,e.prev=8,v=r()(u);case 10:if(m=(f=v.next()).done){e.next=22;break}return g=f.value,_=l.createUserObject({avatar:g.avatar,id:g.id,label:g.label||{},nickname:g.nickname,roles:g.roles,username:g.username}),C=[_,i],k={content:t,extra:b()(w()({},s,{conversation_members:C}))},y=new RongIMLib.TextMessage(k),e.next=18,new c.a(function(e,t){setTimeout(e,300)});case 18:l.ws.sendMessage(RongIMLib.ConversationType.PRIVATE,g.id.toString(),y,{onSuccess:function(e){d||(!l.roomMessages&&(l.roomMessages=[]),l.roomMessages.push({content:n?t:unescape(t),extra:s}),l.msgContent="",d=!0),l.$nextTick(l.scrollToLatest)},onError:function(e,t){l.openMessageBox("发送消息失败","error")}});case 19:m=!0,e.next=10;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(8),h=!0,p=e.t0;case 28:e.prev=28,e.prev=29,!m&&v.return&&v.return();case 31:if(e.prev=31,!h){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:case"end":return e.stop()}},e,l,[[8,24,28,36],[29,,31,35]])})(),"t0",7);case 7:e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),console.error(e.t1);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return e}(),scrollToLatest:function(){this.$refs.msgEnd&&this.$refs.msgEnd.scrollIntoView()},getUser:function(){var e=this;Object(A.q)(1).then(function(t){e.bannedUsers=t.banned_users,e.blockedUsers=t.block_users})},updateUsers:function(e){this.bannedUsers=e.banned_users,this.blockedUsers=e.block_users},handleAvatarClick:function(e){var t=e.extra.sender.roles.map(function(e){return e.name});if(this.myRoles.includes("manager")){if(t.includes("manager"))return;this.restraint.user=e.extra.sender,this.restraint.content="single",this.restraint.dialogVisible=!0}this.chat.current.roomId===this.user.default_room_id&&this.myRoles.includes("customer service")&&1===t.length&&"member"===t[0]&&this.$emit("handleAvatarClick",e.extra.sender)},openManageDialog:function(){this.restraint.nowTab="0",this.restraint.content="all",this.restraint.dialogVisible=!0,this.getUser()},openMessageBox:function(e,t){this.$message({showClose:!0,message:e,type:t})},videoType:function(e){return/\.(flv|avi|wmv|mp4|mov)$/i.test(e)},returnToMain:function(){this.$store.dispatch("switchRoom",{id:this.user.default_room_id})}}}},EVhf:function(e,t,s){"use strict";var n=s("gyMJ");t.a={data:function(){return{loading:!1,gameList:[],schemeList:[],activeGame:"0",activeScheme:0,prediction:[],plan:0,planTimer:void 0}},watch:{activeGame:function(e,t){e!==t&&this.gameList.length&&(this.activeScheme=0,this.schemeList=this.getScheme(this.gameList[e]),this.setPlanTimer(this.gameList[this.activeGame].plans[this.plan]))}},created:function(){var e=this;Object(n.h)().then(function(t){if(e.gameList=t.filter(function(e){return e.plans.length}),e.gameList.length){var s=e.gameList[0].plans[e.plan];e.schemeList=e.getScheme(e.gameList[0]),e.setPlanTimer(s)}})},mounted:function(){this.scrollToEnd()},methods:{scrollToEnd:function(){var e=this;this.$nextTick(function(){var t=e.$refs.view[e.activeGame];t.scrollTop=t.scrollHeight})},fetchPlan:function(e){var t=this;this.loading=!0;var s=e.code||"",a=e.schemes[this.activeScheme].code||"";Object(n.k)({plan:s,scheme:a}).then(function(e){t.prediction=e.results,t.loading=!1,t.scrollToEnd()},function(){t.loading=!1})},changeGame:function(){this.prediction=[]},changeScheme:function(e){this.prediction=[],this.activeScheme=e,this.setPlanTimer(this.gameList[this.activeGame].plans[this.plan])},getScheme:function(e){return e.plans[this.plan].schemes},setPlanTimer:function(e){var t=this;this.fetchPlan(e),this.scrollToEnd(),this.planTimer&&clearInterval(this.planTimer),this.planTimer=setInterval(function(){t.fetchPlan(e)},2e4)}},beforeDestroy:function(){this.planTimer&&clearInterval(this.planTimer)}}},FDJM:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("mvHQ"),r=s.n(i),o=s("NYxO");t.a={props:{defaultHall:{type:Number,default:1}},data:function(){return{previousRoom:{id:this.defaultHall,type:1}}},methods:{enterRoom:function(e){this.$store.dispatch("switchRoom",{id:e.id})},read:function(e,t,s){e.send(r()({command:"read_msg",message:s.id,room:t,user:this.user.id})),this.$store.dispatch("updateRoomRead",{roomId:t,read:!0})}},computed:a()({},Object(o.c)(["chat","rooms","roomMsgs","user","ws","connectStatus"]),Object(o.b)(["myRoles"]))}},"FOk+":function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),r={data:function(){return{loading:!0}},computed:a()({},Object(i.b)(["latestMessages"]),Object(i.c)(["ws"])),watch:{latestMessages:function(){this.getUnreadConversations()},ws:function(){this.getConversationList()}},methods:{clearUnreadCount:function(e,t){var s=t&&t.onSuccess?t.onSuccess:function(){return console.log("cleared unread")},n=t&&t.onError?t.onError:function(e){return console.error(e)};this.ws.clearUnreadCount(RongIMLib.ConversationType.PRIVATE,e,{onSuccess:s,onError:n})},getConversationList:function(){var e=this;this.ws&&this.ws.getConversationList({onSuccess:function(t){e.loading=!1,e.$store.dispatch("setConversations",t)},onError:function(e){console.log(e)}},null)},getUnreadConversations:function(){var e=this;this.ws&&this.ws.getConversationUnreadCount([RongIMLib.ConversationType.PRIVATE],{onSuccess:function(t){console.log("Count: "+t),e.$store.dispatch("setUnreadConversations",t)},onError:function(t){console.error(t),e.$store.dispatch("setUnreadConversations",0)}})}}};t.a=r},FS5k:function(e,t,s){"use strict";var n=["冠军","亚军","第三名","第四名","第五名","第六名","第七名","第八名","第九名","第十名"],a=["第一球","第二球","第三球","第四球","第五球","第六球","第七球","第八球"],i=["正码一","正码二","正码三","正码四","正码五","正码六","特码"],r=function(e){for(var t=1;t<11;t++)if(""+t===e||"ball_than_size_"+t===e||"ball_odd_even_"+t===e)return[n[t-1]];switch(e){case"dragon_tiger_1_10":return["冠军"];case"dragon_tiger_2_9":return["亚军"];case"dragon_tiger_3_8":return["第三名"];case"dragon_tiger_4_7":return["第四名"];case"dragon_tiger_5_6":return["第五名"];case"sum_of_1st_2st_than_size":case"sum_of_1st_2st_odd_even":case"sum_of_1st_2st":return["冠、亚军和"]}return[""]},o=function(e){for(var t=1;t<6;t++)if(""+t===e||"ball_than_size_"+t===e||"ball_odd_even_"+t===e)return[a[t-1]];switch(e){case"dragon_tiger_1_5":return["第一球"];case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"weird_chinese_dice_rules_1_3":return["前三"];case"weird_chinese_dice_rules_2_4":return["中三"];case"weird_chinese_dice_rules_3_5":return["后三"]}return[""]},c=function(e){for(var t=1;t<9;t++){if(""+t===e||"ball_than_size_"+t===e||"ball_odd_even_"+t===e||"ball_mahjong_eswn_"+t===e||"ball_mahjong_zfb_"+t===e)return[a[t-1]];if("ball_of_sum_number_odd_even_"+t===e)return[a[t-1],"sum"];if("ball_tail_than_size_"+t===e)return[a[t-1],"tail"]}switch(e){case"dragon_tiger_1_8":return["第一球"];case"dragon_tiger_2_7":return["第二球"];case"dragon_tiger_3_6":return["第三球"];case"dragon_tiger_4_5":return["第四球"];case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"sum_of_ball_tail_than_size":return["总和","tail"]}return[""]},l=function(e){for(var t=1;t<6;t++)if(""+t===e||"ball_than_size_"+t===e||"ball_odd_even_"+t===e)return[a[t-1]];switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"sum_of_ball_tail_than_size":return["总和","tail"];case"dragon_tiger_1_5":return["第一球"]}return[""]},u=function(e){switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"sum_of_ball_five_element":return["五行"];case"balls_front_rear_count_cp":return["前后和"];case"balls_odd_even_cp":return["单双和"]}return[""]},d=function(e){for(var t=1;t<21;t++)if(""+t===e||"ball_than_size_"+t===e||"ball_odd_even_"+t===e)return["第"+t+"球"];switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"sum_of_ball_five_element":return["五行"]}return[""]},m=function(e){switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":return["总和"];case"sum_of_ball_five_element":return["五行"]}return[""]},h=function(e){switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":case"sum_of_ball_color_wavelength":return["总和"]}return[""]},p=function(e){for(var t=1;t<8;t++){if("ball_than_size_"+t===e||"ball_odd_even_"+t===e||"ball_five_element_"+t===e||"ball_chinese_zodiac_"+t===e||"ball_color_wavelength_"+t===e)return[i[t-1]];if("ball_tail_than_size_"+t===e)return[i[t-1],"tail"];if("ball_of_sum_number_odd_even_"+t===e)return[i[t-1],"sum"];if("ball_of_sum_number_than_size_"+t===e)return[i[t-1],"sum"]}switch(e){case"sum_of_ball_than_size":case"sum_of_ball_odd_even":return["总和"];case"seven_color_wavelength":return["七色波"]}return[""]},v=function(e){switch(e){case"sum_of_ball_than_size":return["总和"]}return[""]},f=function(e){for(var t=1;t<=3;t++)for(var s=1;s<=3;s++)switch(e){case"balls_odd_even_1_2":case"balls_than_size_1_2":return["佰拾和數"];case"balls_prime_composite_tail_1_2":case"balls_than_size_tail_1_2":return["佰拾和數","tail"];case"balls_odd_even_1_3":case"balls_than_size_1_3":return["佰个和數"];case"balls_prime_composite_tail_1_3":case"balls_than_size_tail_1_3":return["佰个和數","tail"];case"balls_odd_even_2_3":case"balls_than_size_2_3":return["拾个和數"];case"balls_prime_composite_tail_2_3":case"balls_than_size_tail_2_3":return["拾个和數","tail"]}switch(e){case"sum_of_ball_odd_even":case"sum_of_ball_than_size":case"sum_of_ball_prime_composite":return["佰拾个和數"];case"sum_of_ball_tail_than_size":case"sum_of_ball_tail_prime_composite":return["佰拾个和數","tail"]}return[""]};t.a={jspk10:r,bcr:r,mlaft:r,er75ft:r,cqssc:o,jsssc:o,xjssc:o,tjssc:o,cqlf:c,gdklsf:c,gd11x5:l,bjkl8:u,auluck8:d,auluck8Statistic:m,pcdd:h,jnd28:h,hkl:p,jsk3:v,fc3d:f}},FhoZ:function(e,t,s){"use strict";(function(t){var n=s("o/zv"),a=s("rBKV");e.exports={chatHost:a.chatHost.replace(/"/g,""),build:{env:s("rBKV"),index:n.resolve(t,"../dist/index.html"),assetsRoot:n.resolve(t,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"/",productionSourceMap:!0,productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production",HOST:"http://47.244.173.114:8002",chatHost:"undefined",decode_key:"undefined",ghost:"undefined",appKey:"undefined"}).npm_config_report},dev:{env:s("dhIU"),port:Object({NODE_ENV:"production",HOST:"http://47.244.173.114:8002",chatHost:"undefined",decode_key:"undefined",ghost:"undefined",appKey:"undefined"}).PORT||8080,autoOpenBrowser:!0,assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{},cssSourceMap:!1}}}).call(t,"/")},H5zU:function(e,t,s){"use strict";function n(e){s("VseP")}var a=s("4G8c"),i=s("szjH"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-37555e6c",null);t.a=c.exports},HT6V:function(e,t){e.exports="data:image/png;base64,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"},HcGG:function(e,t){},HcRj:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.$store.state.loading,expression:"$store.state.loading"}],staticClass:"full-height"},[s("router-view")],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},"Hd/b":function(e,t){},HfaK:function(e,t,s){e.exports=s.p+"static/img/avatar.c8f302f.png"},I0yE:function(e,t,s){"use strict";var n=s("mvHQ"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("7+uW"),c=s("NYxO"),l=s("gyMJ");o.default.filter("truncate",function(e,t){return e.slice(0,t)+(t<e.length?"...":"")}),t.a={data:function(){return{loading:!1,stickers:{},nowSticker:""}},computed:r()({},Object(c.c)(["stickerGroups","chat","ws"])),methods:{getStickers:function(e){var t=this;this.loading=!0,Object(l.m)(e).then(function(s){t.$set(t.stickers,e,s[e]),localStorage.setItem("stickers",a()(t.stickers)),t.loading=!1})},switchStickers:function(e){if(!this.loading){this.$refs.stickerCarousel.setActiveItem(e),this.nowSticker=e;var t=localStorage.getItem("stickers"),s=JSON.parse(t);t&&s[e]?this.$set(this.stickers,e,s[e]):this.getStickers(e)}},sendSticker:function(e){this.$emit("sendSticker",{url:e,type:7})}},mounted:function(){var e=this.stickerGroups[0].name,t=localStorage.getItem("stickers"),s=JSON.parse(t);this.nowSticker=e,t&&s[e]?this.stickers[e]=s[e]:this.getStickers(e)}}},IbOt:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"full-height p-l"},[s("el-header",{staticClass:"text-center m-t-lg"},[s("div",{staticClass:"title"},[e._v("会员登录")])]),e._v(" "),s("el-main",{staticClass:"full-height"},[s("div",{staticClass:"login"},[s("el-form",{ref:"user",attrs:{model:e.user,"status-icon":"",rules:e.rules}},[s("el-form-item",{attrs:{prop:"username",label:"用户名","label-width":"85px"}},[s("el-input",{ref:"username",staticClass:"inp",attrs:{autofocus:!0},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password",label:"密码","label-width":"85px"}},[s("el-input",{ref:"password",staticClass:"inp",attrs:{type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("transition",{attrs:{name:"el-fade-in"}},[e.errorMsg?s("span",{staticClass:"error"},[e._v(e._s(e.errorMsg))]):e._e()]),e._v(" "),s("div",{staticClass:"login-actions"},[s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)],1)])],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},IcnI:function(e,t,s){"use strict";function n(){return new i.a.Store({state:{user:{logined:!1,memberLogined:!1,roles:[],default_room_id:""},loading:!1,globalPreference:{mobile_url:"",checkin_settings:{}},stickerGroups:[],chatList:[],chat:{dialogVisible:!1,current:{roomId:""},room_info:[]},conversations:[],conversationMessages:[],conversationTarget:{},sendOnlineStatus:!1,unreadConversations:0,restraintMembers:{},roomMsgs:{},rooms:[],envelopes:{},ws:null,connectStatus:{status:"",send:0},unloginedDialog:{visible:!1,status:"Login"},refreshRoom:0},actions:r.a,mutations:o.a,getters:c.a})}t.a=n;var a=s("7+uW"),i=s("NYxO"),r=s("M1Br"),o=s("9n/j"),c=s("ZNbi");a.default.use(i.a)},J2QN:function(e,t){},JJT7:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("gyMJ"),r=s("2xsP"),o=s("0xDb"),c=s("NYxO");t.a={name:"register",data:function(){var e=this;return{user:{username:"",nickname:"",password:"",confirmation_password:"",hasAgree:["hasAgree"]},errorMsg:"",rules:{username:[{required:!0,validator:function(e,t,s){t?Object(r.d)(t)?Object(i.c)(t).then(function(e){e.existed?s(new Error("用户名已经存在")):s()}):s(new Error("请输入6~15位英数字")):s(new Error("该栏位必须输入"))},trigger:"blur"}],nickname:[{required:!0,validator:function(e,t,s){t?s():s(new Error("该栏位必须输入"))},trigger:"blur"}],password:[{required:!0,validator:function(t,s,n){""===s?n(new Error("该栏位必须输入")):(""!==e.user.confirmation_password&&e.$refs.user.validateField("confirmation_password"),n())},trigger:"blur"},{validator:function(e,t,s){Object(r.a)(t)?s():s(new Error("请输入6~15位数字或字母"))},trigger:"blur,change"}],confirmation_password:[{required:!0,validator:function(t,s,n){""===s?n(new Error("请再次输入密码")):s!==e.user.password?n(new Error("两次输入密码不一致")):n()},trigger:"blur,change"}],hasAgree:[{type:"array",required:!0,message:"请阅读并同意用户协议",trigger:"change"}]}}},methods:{submit:function(){var e=this;this.$refs.user.validate(function(t){if(!t)return!1;Object(i.u)(e.user).then(function(t){return e.$store.dispatch("login",{user:{username:e.user.username,password:e.user.password}})}).then(function(t){e.$store.dispatch("updateUnloginedDialog",{visible:!1,status:"Login"})},function(t){e.$message({showClose:!0,message:Object(o.b)(t),type:"error"})})})}},computed:a()({},Object(c.c)(["unloginedDialog"])),watch:{"unloginedDialog.visible":function(){this.$refs.user.clearValidate()}}}},Jw65:function(e,t,s){"use strict";function n(e){s("HcGG")}var a=s("tICq"),i=s("kQTk"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-a23bd5c6",null);t.a=c.exports},LVX9:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("Gu7T"),r=s.n(i),o=s("gyMJ"),c=s("NYxO");t.a={props:{restraint:{type:Object}},data:function(){return{isBanned:void 0,isBlocked:void 0,manage:{usersStatus:null,userArr:null,bannedUsers:[],blockedUsers:[]}}},methods:{switchBlockTab:function(e){this.restraint.nowTab=e+""},ban:function(e,t){var s=this;Object(o.a)(t||this.user.default_room_id,{user:this.restraint.user.username,banned_time:e}).then(function(e){s.getUser(),s.restraint.dialogVisible=!1,s.$emit("handleUserRestraint",{user:s.restraint.user.username,action:"ban"}),s.$message({showClose:!0,message:e.status,type:"success"})},function(e){s.restraint.dialogVisible=!1,s.$message({showClose:!0,message:e,type:"error"})})},unban:function(e,t){var s=this;Object(o.B)(t||this.user.default_room_id,{user:e}).then(function(t){s.getUser(),s.restraint.dialogVisible=!1,s.$emit("handleUserRelease",{user:e,action:"unban"}),s.$message({showClose:!0,message:t.status,type:"success"})},function(e){s.restraint.dialogVisible=!1;var t=e.response.data;s.$message({showClose:!0,message:t.error,type:"error"})})},block:function(e){var t=this;Object(o.b)(e||this.user.default_room_id,{user:this.restraint.user.username}).then(function(e){t.getUser(),t.restraint.dialogVisible=!1,t.$emit("handleUserRestraint",{user:t.restraint.user.username,action:"block"}),t.$message({showClose:!0,message:e.status,type:"success"})},function(e){t.restraint.dialogVisible=!1,t.$message({showClose:!0,message:e.response.data.error,type:"error"})})},unblock:function(e,t){var s=this;Object(o.C)(t||this.user.default_room_id,{user:e}).then(function(t){s.getUser(),s.restraint.dialogVisible=!1,s.$emit("handleUserRelease",{user:e,action:"unblock"}),s.$message({showClose:!0,message:t.status,type:"success"})},function(e){s.restraint.dialogVisible=!1;var t=e.response.data;s.$message({showClose:!0,message:t.error,type:"error"})})},getUser:function(){var e=this;Object(o.q)(this.user.default_room_id).then(function(t){e.$emit("updateUsers",{banned_users:t.banned_users,block_users:t.block_users}),t.banned_users.length&&t.block_users.length||(e.isBanned=!1,e.isBlocked=!1);var s=t.banned_users.map(function(e){return e.username}),n=t.block_users.map(function(e){return e.username});e.isBanned=s.includes(e.restraint.user.username),e.isBlocked=n.includes(e.restraint.user.username)})},getRoomsUsers:function(){var e=this;Object(o.o)().then(function(t){e.manage.userArr=t;var s={};t.forEach(function(t){var n,a;s[t.id]={title:t.title,banned_users:t.banned_users,block_users:t.block_users},t.banned_users.forEach(function(e){e.title=t.title,e.room_id=t.id}),t.block_users.forEach(function(e){e.title=t.title,e.room_id=t.id}),(n=e.manage.bannedUsers).push.apply(n,r()(t.banned_users)),(a=e.manage.blockedUsers).push.apply(a,r()(t.block_users))}),e.manage.usersStatus=s})}},computed:a()({},Object(c.c)(["user","chat"])),watch:{"restraint.user.username":function(){this.getUser()}},created:function(){"single"===this.restraint.content?this.getUser():this.getRoomsUsers()}}},M1Br:function(e,t,s){"use strict";var n=s("Gu7T"),a=s.n(n),i=s("//Fk"),r=s.n(i),o=s("mtWM"),c=s.n(o),l=s("7+uW"),u=s("QmRU"),d=s("gyMJ");t.a={login:function(e,t){var s=(e.commit,e.state,e.dispatch),n=t.user;t.visitor;return Object(d.s)(n).then(function(e){s("resetUser");var t=new Date(e.expires_in);e.access_token&&e.refresh_token&&(l.default.cookie.set("access_token",e.access_token,{expires:t}),l.default.cookie.set("refresh_token",e.refresh_token,{expires:t}),c.a.defaults.withCredentials=!0,c.a.defaults.headers.common.Authorization="Bearer "+e.access_token),s("fetchUser").then(function(){return r.a.resolve(e)})},function(e){return 9011===e.code&&l.default.cookie.set("sessionid",e.data.sessionid),r.a.reject(e)})},logout:function(e){e.commit,e.state,e.dispatch;Object(d.t)().catch(function(){})},fetchUser:function(e){var t=e.commit,s=e.state,n=e.dispatch,a=e.getters;return Object(d.n)().then(function(e){var i=function(e){return"manager"===e||"visitor"===e};return e?(e.logined=!0,t(u.p,e),t(u.p,{memberLogined:!a.myRoles.some(function(e){return"visitor"===e})}),a.myRoles.length&&!a.myRoles.some(i)&&0===s.chatList.length&&Object(d.p)({offset:0,limit:20}).then(function(e){n("updateChatList",e.results),1===a.myRoles.length&&"member"===a.myRoles[0]&&n("setRooms",e.results)}),r.a.resolve(e)):r.a.reject(e)},function(e){return t(u.p,{logined:!1}),r.a.reject(e)})},updateUser:function(e,t){var s=e.commit;e.state;return Object(d.E)(t).then(function(e){s(u.p,e)})},trial:function(e){var t=(e.commit,e.state,e.dispatch);return Object(d.u)({visitor:"True"}).then(function(e){return t("login",{user:{username:e.username,password:e.password},visitor:!0})},function(e){return l.default.cookie.delete("csrftoken"),l.default.cookie.delete("access_token"),l.default.cookie.delete("refresh_token"),r.a.reject(e)})},setUser:function(e,t){var s=e.commit;e.state;s(u.p,t)},resetUser:function(e,t){var s=e.commit;e.state;(0,e.dispatch)("updateChatList",[]),s(u.e)},startLoading:function(e){(0,e.commit)(u.r)},endLoading:function(e){(0,e.commit)(u.c)},setGlobalConfig:function(e,t){(0,e.commit)(u.i,t)},updateChatList:function(e,t){var s=e.commit;e.state;s(u.t,t)},updateRoomRead:function(e,t){var s=e.commit;e.state;s(u.v,t)},switchRoom:function(e,t){var s=e.commit;e.state;s(u.s,t)},endChat:function(e){var t=e.commit;e.state;t(u.b)},setWebsocket:function(e,t){var s=e.commit;e.state;s(u.q,t)},setRooms:function(e,t){var s=e.commit;e.state;s(u.l,t)},setRestraintMembers:function(e,t){var s=e.commit;e.state;s(u.j,t)},setRoomMsgs:function(e,t){var s=e.commit;e.state;s(u.k,t)},setStickerGroups:function(e,t){var s=e.commit;e.state;s(u.n,t)},collectEnvelope:function(e,t){var s=e.commit;e.state;s(u.a,t)},updateUnloginedDialog:function(e,t){var s=e.commit;e.state;s(u.w,t)},setConversations:function(e,t){(0,e.commit)(u.f,t)},setConversationMessages:function(e,t){var s=e.commit,n=[].concat(a()(t));t.length&&t.map(function(e){var t=e.content.content;try{e.content.content=unescape(t)}catch(s){e.content.content=t}return e}),s(u.g,n)},setConversationTarget:function(e,t){var s=e.commit,n=e.state,a=n.user.roles.find(function(e){return"member"===e.name});return 0===t?s(u.h,{}):(s(u.h,{id:t}),!a&&Object(d.j)(t).then(function(e){if(e){var t=e.avatar,n=e.id,a=e.label,i=e.nickname,r=e.roles,o=e.username,c={avatar:t,id:n,nickname:i,roles:r,username:o,label:a||{}};return s(u.h,c),c}s(u.h,{})}))},setSendOnlineStatus:function(e,t){(0,e.commit)(u.m,t)},setUnreadConversations:function(e,t){(0,e.commit)(u.o,t)}}},M6Fv:function(e,t){},M93x:function(e,t,s){"use strict";var n=s("xJD8"),a=s("HcRj"),i=s("VU/8"),r=i(n.a,a.a,!1,null,null,null);t.a=r.exports},MWBs:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container"},[n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chat-box",attrs:{"element-loading-text":"正在登录计划聊天室"}},[e.sendOnlineStatus?n("el-header",{staticClass:"header-text send-online",attrs:{height:"30px"}},[e._v("\n      向在线用户发送消息\n\n      "),n("div",{staticClass:"header-close",on:{click:e.returnToMain}},[n("icon",{staticClass:"close-icon",attrs:{name:"times",scale:"1"}})],1)]):e.hasTarget?n("el-header",{staticClass:"header-text private-message",attrs:{height:"30px"}},[e._v("\n      私人信息\n      "+e._s(e.conversationTarget.username&&" - ")+"\n      "+e._s(e.conversationTarget.nickname||e.conversationTarget.username||"")+"\n\n      "),n("div",{staticClass:"header-close",on:{click:e.returnToMain}},[n("icon",{staticClass:"close-icon",attrs:{name:"times",scale:"1"}})],1)]):e._e(),e._v(" "),n("el-main",{staticClass:"content",attrs:{id:"chatBox"}},[n("ul",[e._l(e.roomMessages,function(t,a){return n("li",{key:a,class:["clearfix","item",t.extra.sender&&e.user.username===t.extra.sender.username?"item-right":"item-left",t.extra.type<0?"sys-msg":""]},[t.extra.type>=0&&6!==t.extra.type?n("div",{staticClass:"lay-block clearfix"},[n("div",{staticClass:"avatar",on:{click:function(s){return e.handleAvatarClick(t)}}},[4==t.extra.type?n("icon",{staticClass:"font-cog",attrs:{name:"cog",scale:"3"}}):n("img",{attrs:{src:t.extra.sender&&t.extra.sender.avatar?t.extra.sender.avatar:s("HfaK")}})],1),e._v(" "),n("div",{staticClass:"lay-content"},[n("div",{staticClass:"msg-header"},[n("h4",[e._v(e._s(4===t.extra.type?"计划消息":t.extra.sender&&t.extra.sender.username===e.user.username&&e.user.nickname?e.user.nickname:t.extra.sender&&(t.extra.sender.nickname||t.extra.sender.username))+"\n                ")]),e._v(" "),t.extra.sender&&t.extra.sender.label?n("img",{staticClass:"msg-label",attrs:{src:t.extra.sender.label.icon}}):e._e(),e._v(" "),n("span",{staticClass:"msg-time"},[e._v(e._s(e._f("moment")(t.extra.created_at,"HH:mm:ss")))])]),e._v(" "),5===t.extra.type?n("div",[e.myRoles&&e.myRoles.includes("visitor")?n("div",{staticClass:"envelope-message expired"},[n("img",{staticClass:"img m-r",attrs:{src:s("nI1r"),alt:"envelope"}}),e._v(" "),n("div",{staticClass:"send-texts"},[n("p",{staticClass:"slogan"},[e._v(e._s(t.content?t.content:"恭喜发财 大吉大利"))]),e._v(" "),n("p",{staticClass:"action"},[e._v("会员才可以抢红包！")])])]):t.extra.envelope_status&&!t.extra.envelope_status.expired?n("div",{class:["envelope-message","pointer",{null:t.extra.envelope_status.users.length&&t.extra.envelope_status.total===t.extra.envelope_status.users.length&&!t.extra.envelope_status.users.map(function(e){return e.receiver_id}).includes(e.user.id)}],on:{click:function(s){return e.takeEnvelope(t,a)}}},[n("img",{staticClass:"img m-r",attrs:{src:s("nI1r"),alt:"envelope"}}),e._v(" "),n("div",{staticClass:"send-texts"},[n("p",{staticClass:"slogan"},[e._v(e._s(t.content?t.content:"恭喜发财 大吉大利"))]),e._v(" "),n("p",{staticClass:"action"},[e._v("\n                      "+e._s(t.extra.envelope_status.users.map(function(e){return e.id}).includes(e.user.id)?"已领取":t.extra.envelope_status.total===t.extra.envelope_status.users.length?"已领完":"\b待领取")+"\n                    ")])])]):t.extra.envelope_status.expired?n("div",{staticClass:"envelope-message expired"},[n("img",{staticClass:"img m-r",attrs:{src:s("nI1r"),alt:"envelope"}}),e._v(" "),n("div",{staticClass:"send-texts"},[n("p",{staticClass:"slogan"},[e._v(e._s(t.content?t.content:"恭喜发财 大吉大利"))]),e._v(" "),n("p",[e._v("已过期")])])]):e._e()]):7===t.extra.type?n("div",{staticClass:"text-center sticker-msg"},[n("img-async",{staticClass:"img",attrs:{src:t.content},on:{imgStart:function(t){e.imgLoadCount++},imgLoad:function(t){e.imgLoadCount--}}})],1):n("div",{class:["bubble","bubble"+t.extra.type]},[n("div",[0===t.extra.type||4===t.extra.type||8===t.extra.type?n("span",{staticClass:"item-content"},[e._v(e._s(t.content))]):1===t.extra.type?n("p",[e.videoType(t.content)?n("video",{attrs:{src:t.content,poster:t.extra.thumbnail,controls:"",preload:"",width:"100%"}},[e._v("\n                      您的浏览器不支持 video 播放\n                    ")]):n("img-async",{attrs:{src:t.content},on:{imgStart:function(t){e.imgLoadCount++},imgLoad:function(t){e.imgLoadCount--}},nativeOn:{click:function(s){e.showImageMsg=!0,e.showImageMsgUrl=t.content}}})],1):e._e()])])])]):e._e()])}),e._v(" "),e.personalSetting.blocked?n("li",{staticClass:"block-user-info"},[e._v("您已被管理员拉黑，请联系客服。")]):e._e(),n("li"),n("li",{ref:"msgEnd",staticClass:"msgEnd",attrs:{id:"msgEnd"}})],2)]),e._v(" "),n("el-footer",{staticClass:"footer m-t",attrs:{height:"100"}},[n("div",{staticClass:"control-bar"},[n("el-popover",{ref:"popover4",attrs:{disabled:e.myRoles.includes("visitor")||e.personalSetting.blocked,"popper-class":"emoji-popover",placement:"top-start",width:"stickers"===e.stickerTab?460:300,trigger:"click"},model:{value:e.showStickerPopover,callback:function(t){e.showStickerPopover=t},expression:"showStickerPopover"}},[n("el-tabs",{staticClass:"stickers-tab",attrs:{type:"border-card"},model:{value:e.stickerTab,callback:function(t){e.stickerTab=t},expression:"stickerTab"}},[n("el-tab-pane",{attrs:{label:"表情符号",name:"emojis"}},[n("div",{staticClass:"emoji-container"},[n("Emojis",{attrs:{emojis:e.emojis.people.slice(0,42)},on:{emojiClick:e.handleEmojiClick}})],1)]),e._v(" "),e.stickerGroups.length?n("el-tab-pane",{attrs:{label:"表情包",name:"stickers"}},[n("div",{staticClass:"stickers-container"},["stickers"===e.stickerTab?n("Stickers",{on:{sendSticker:e.sendSticker}}):e._e()],1)]):e._e()],1)],1),e._v(" "),e.emojiSuccess?n("a",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],class:["btn-control","btn-smile","pointer",{"not-allowed":e.personalSetting.blocked}],attrs:{href:"javascript:void(0)",title:"发送表情"},on:{click:e.handleEmojiIconClick}},[n("icon",{attrs:{scale:"1.3",name:"smile-o"}})],1):e._e(),e._v(" "),n("a",{class:["btn-control","btn-smile","pointer",{"not-allowed":e.personalSetting.blocked}],attrs:{href:"javascript:void(0)"}},[n("label",{attrs:{for:"imgUploadInput"},on:{click:function(t){return e.handleImgIconClick(t)}}},[n("span",{attrs:{title:"上传图片"}},[n("i",{class:["el-icon-picture",{"not-allowed":e.personalSetting.blocked}]}),e._v(" "),n("input",{ref:"fileImgSend",staticClass:"img-upload-input",attrs:{disabled:!e.chatable,type:"file",id:"imgUploadInput",accept:".jpg, .png, .gif, .jpeg, image/jpeg, image/png, image/gif"},on:{change:function(t){return e.uploadMedia(e.$refs.fileImgSend)}}})])])]),e._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isPrivateMessage,expression:"!isPrivateMessage"}],class:["btn-control","btn-smile","pointer",{"not-allowed":e.personalSetting.blocked}],attrs:{href:"javascript:void(0)"}},[n("label",{attrs:{for:"videoUploadInput"},on:{click:function(t){return e.handleImgIconClick(t)}}},[n("span",{attrs:{title:"上传视频"}},[n("icon",{staticClass:"font-camera",attrs:{name:"camera",scale:"1.3"}}),e._v(" "),n("input",{ref:"fileVideoSend",staticClass:"img-upload-input",attrs:{disabled:!e.chatable,type:"file",id:"videoUploadInput",accept:"video/*"},on:{change:function(t){return e.uploadMedia(e.$refs.fileVideoSend)}}})],1)])]),e._v(" "),e.globalPreference.envelope_settings&&"1"===e.globalPreference.envelope_settings.enabled&&!e.isPrivateMessage?n("div",{class:["envelope-icon","pointer",{"not-allowed":e.personalSetting.blocked||e.personalSetting.banned}],on:{click:e.handleEnvelopeIconClick}},[n("img",{staticClass:"img",attrs:{src:s("1xrD"),alt:"envelope-icon"}})]):e._e(),e._v(" "),e.myRoles.includes("manager")?n("span",{staticClass:"btn-control right",on:{click:function(t){return e.openManageDialog()}}},[n("icon",{staticClass:"font-cog",attrs:{name:"cog",scale:"1.4"}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"typing"},[n("div",{class:["txtinput","el-textarea",e.chatable?"":"is-disabled"]},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msgContent,expression:"msgContent"}],staticClass:"el-textarea-inner",attrs:{placeholder:"请文明发言",type:"textarea",rows:"2",autocomplete:"off",validateevent:"true",disabled:!e.chatable},domProps:{value:e.msgContent},on:{input:function(t){t.target.composing||(e.msgContent=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"sendbtn fr"},[n("a",{class:["u-btn",{"not-allowed":!e.chatable}],attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.sendMsg()}}},[e._v("发送")])])])])],1),e._v(" "),n("el-dialog",{attrs:{visible:e.showImageMsg,width:"640px","custom-class":"text-center","append-to-body":""},on:{"update:visible":function(t){e.showImageMsg=t}}},[n("img",{staticClass:"popup-uploadedimage",attrs:{src:e.showImageMsgUrl}})]),e._v(" "),n("el-dialog",{staticClass:"restraint-dialog",attrs:{title:"管理",visible:e.restraint.dialogVisible,width:"all"===e.restraint.content?"700px":"30%",top:"5vh","append-to-body":!0,"modal-append-to-body":!0,center:""},on:{"update:visible":function(t){return e.$set(e.restraint,"dialogVisible",t)}}},[e.restraint.dialogVisible?n("Restraint",{attrs:{restraint:e.restraint,blockedUsers:e.blockedUsers,bannedUsers:e.formattedBannerUsers,RECEIVER:e.restraint.user.default_room||1},on:{updateUsers:e.updateUsers,handleUserRelease:e.handleUserRelease,handleUserRestraint:e.handleUserRestraint}}):e._e()],1),e._v(" "),1===e.myRoles.length&&"member"===e.myRoles[0]?n("el-dialog",{staticClass:"privatechat-dialog",attrs:{visible:e.chat.dialogVisible,width:"550px",top:"10vh",center:""},on:{"update:visible":function(t){return e.$set(e.chat,"dialogVisible",t)},close:function(t){return e.closeChatDialog()}}},[e.chat.current.roomId&&2===e.chat.current.type?n("PrivateChat",{attrs:{emojis:e.emojis,joinChatRoom:e.beforeJoinChatRoom,roomMsgs:e.roomMsgs,chat:e.chat}}):e._e()],1):e._e(),e._v(" "),n("el-dialog",{staticClass:"red-envelope-dialog",attrs:{visible:e.envelope.visible,width:"400px",top:"10vh",center:""},on:{"update:visible":function(t){return e.$set(e.envelope,"visible",t)}}},[e.envelope.visible?n("Envelope",{attrs:{status:e.envelope.status,content:e.envelope.content,envelope:e.envelope.envelope,joinChatRoom:e.beforeJoinChatRoom},on:{closeDialog:e.closeEnvelope,handleSend:e.handleEnvelopeSend}}):e._e()],1)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},MkYv:function(e,t){},"MyY+":function(e,t){},"N/0d":function(e,t,s){"use strict";function n(e){s("NMtu")}var a=s("7zPv"),i=s("eQpG"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-fb650bbc",null);t.a=c.exports},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("//Fk"),a=s.n(n),i=s("tvR6"),r=(s.n(i),s("qBF2")),o=s.n(r),c=s("Dd8w"),l=s.n(c),u=s("7+uW"),d=s("NYxO"),m=s("M93x"),h=s("YaEn"),p=s("IcnI"),v=s("9JMe"),f=(s.n(v),s("K/Lq")),g=s.n(f),b=s("mtWM"),_=s.n(b),C=s("OjAt"),k=s.n(C),w=s("gyMJ"),y=s("mw3O"),x=s.n(y),A=s("oCGI"),E=s("LotX"),I={firstPaint:!0,firstContentfulPaint:!0,timeToInteractive:!0,analyticsLogger:void 0,googleAnalytics:{enable:!1,timingVar:"name"},logging:!0,logPrefix:"Perfume.js:",warning:!1},R=new E.a(l()({},I));console.log(R),u.default.use(s("mjDs")),u.default.use(k.a),u.default.use(o.a,{size:"small"}),u.default.use(g.a),u.default.use(d.a),u.default.component("qr-code",A.a);var O=window.location.href,S=x.a.parse(O.slice(O.indexOf("?")+1,O.length));S.r&&Object(w.z)("r="+S.r).catch(function(){}),"0"===S.desktop&&"0"!==u.default.cookie.get("desktop")&&(g.a.set("desktop",S.desktop),window.location.reload());var U=Object(p.a)(),D=u.default.cookie.get("access_token");u.default.config.productionTip=!1,D&&(_.a.defaults.withCredentials=!0,_.a.defaults.headers.common.Authorization="Bearer "+D),_.a.interceptors.response.use(function(e){var t=e.data;return t.error?(u.default.prototype.$message({showClose:!0,message:t.error,type:"warning"}),a.a.reject(t)):t},function(e){if(!e.response)return void u.default.prototype.$message({showClose:!0,message:"系统发生了错误, 请联系客服",type:"error"});if(e&&e.response&&587!==e.response.status){503===e.response.status&&h.a.replace({name:"Maintenance"});var t=e.response.data.error;if(401===e.response.status||403===e.response.status)return a.a.reject(e);t||(t="系统发生了错误, 请联系客服"),u.default.prototype.$message({showClose:!0,message:t,type:"error"})}return a.a.reject(e)});var M=!0;h.a.beforeEach(function(e,t,s){if(M&&!0===e.meta.requiresAuth){g.a.get("access_token")?U.dispatch("fetchUser").then(function(e){M=!1,s()}).catch(function(){U.dispatch("startLoading"),U.dispatch("trial").then(function(){U.dispatch("endLoading"),s()},function(){U.dispatch("endLoading"),U.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})})}):(U.dispatch("startLoading"),U.dispatch("trial").then(function(){U.dispatch("endLoading"),s()},function(){U.dispatch("endLoading"),U.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})}))}else s()}),Object(v.sync)(U,h.a),Object(w.i)().then(function(e){var t=e.global_preferences,s=e.sticker_groups;U.dispatch("setGlobalConfig",{mobile_lottery_url:t.mobile_lottery_url,customer_service_url:t.customer_service_url,web_lottery_register_url:t.web_lottery_register_url,logo:t.logo,private_chat_blocked_users:t.private_chat_blocked_users,title:t.title,web_background:t.web_background,mobile_url:t.mobile_url,envelope_settings:t.envelope_settings,checkin_settings:t.checkin_settings,max_media_size:t.max_media_size||2}),s.length&&U.dispatch("setStickerGroups",s),document.title=U.state.globalPreference.title}),new u.default({el:"#app",router:h.a,store:U,template:"<App/>",components:{App:m.a}})},NMtu:function(e,t){},OKVf:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"emojis"},e._l(e.emojis,function(t,n){return s("li",{key:n,staticClass:"emoji pointer",on:{click:function(s){return e.handleEmojiClick(t)}}},[s("span",[e._v(e._s(t.emoji))])])}),0)},a=[],i={render:n,staticRenderFns:a};t.a=i},"Ome+":function(e,t,s){"use strict";var n=s("ukR+"),a=s.n(n);t.a={props:{text:{type:String,required:!0},size:{type:Number,required:!1,default:256},color:{type:String,required:!1,default:"#000"},bgColor:{type:String,required:!1,default:"#FFF"},errorLevel:{type:String,validator:function(e){return"L"===e||"M"===e||"Q"===e||"H"===e},required:!1,default:"H"}},watch:{text:function(){this.clear(),this.makeCode(this.text)}},data:function(){return{qrCode:{}}},mounted:function(){this.qrCode=new a.a(this.$el,{text:this.text,width:this.size,height:this.size,colorDark:this.color,colorLight:this.bgColor,correctLevel:a.a.CorrectLevel[this.errorLevel]})},methods:{clear:function(){this.qrCode.clear()},makeCode:function(e){this.qrCode.makeCode(e)}}}},PApr:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-height"},[n("div",{staticClass:"search-form m-t m-b m-l m-r"},[n("el-input",{staticClass:"ipt-search",attrs:{type:"text",placeholder:"请输入帐号名"},on:{input:e.search},model:{value:e.searchData.input,callback:function(t){e.$set(e.searchData,"input",t)},expression:"searchData.input"}}),e._v(" "),n("span",{staticClass:"el-icon-search pointer",on:{click:e.search}}),e._v(" "),e.searchData.searching?n("div",[e._v("搜索 「"+e._s(e.searchData.input)+"」中\n      "),n("span",{staticClass:"exit-search fr pointer",on:{click:e.exitSearch}},[e._v("退出搜索")])]):e._e()],1),e._v(" "),n("div",{staticClass:"chats-container"},[e.showing.length?n("ul",{staticClass:"chats m-b"},[e._l(e.showing,function(t,a){return t?n("li",{key:a,class:["li","pointer",{online:t.online}]},[n("el-popover",{attrs:{placement:"right",trigger:"click"}},[n("div",[e.isManager?e._e():n("div",{staticClass:"action pointer",on:{click:function(s){return e.handleChatClick(t)}}},[e._v("查看 "+e._s(t.remarks||t.nickname))]),e._v(" "),t.banned?e._e():n("div",{staticClass:"action pointer",on:{click:function(s){return e.ban(t,15,a)}}},[e._v("禁言 "+e._s(t.remarks||t.nickname))]),e._v(" "),t.blocked?e._e():n("div",{staticClass:"action pointer",on:{click:function(s){return e.block(t,a)}}},[e._v("拉黑 "+e._s(t.remarks||t.nickname))]),e._v(" "),t.banned?n("div",{staticClass:"action pointer",on:{click:function(s){return e.unban(t,a)}}},[e._v("解除禁言 "+e._s(t.remarks||t.nickname))]):e._e(),e._v(" "),t.blocked?n("div",{staticClass:"action pointer",on:{click:function(s){return e.unblock(t,a)}}},[e._v("解除拉黑 "+e._s(t.remarks||t.nickname))]):e._e()]),e._v(" "),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"illustration"},[n("img",{staticClass:"avatar m-r",attrs:{src:t.avatar||s("HfaK"),alt:"avatar"}})]),e._v(" "),n("p",{staticClass:"title"},[e._v(e._s(t.remarks||t.nickname))])])])],1):e._e()}),e._v(" "),e.pagination.total>e.chats.length&&!e.searchData.input.length?n("li",{staticClass:"pointer m-l",on:{click:e.fillMemberChats}},[e._v("更多...")]):e._e()],2):n("ul",{staticClass:"text-center m-t"},[e._v("暂无进行中的聊天")])])])},a=[],i={render:n,staticRenderFns:a};t.a=i},QmRU:function(e,t,s){"use strict";s.d(t,"p",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"r",function(){return i}),s.d(t,"c",function(){return r}),s.d(t,"i",function(){return o}),s.d(t,"t",function(){return c}),s.d(t,"v",function(){return l}),s.d(t,"s",function(){return u}),s.d(t,"b",function(){return d}),s.d(t,"q",function(){return m}),s.d(t,"k",function(){return h}),s.d(t,"l",function(){return p}),s.d(t,"j",function(){return v}),s.d(t,"a",function(){return f}),s.d(t,"n",function(){return g}),s.d(t,"w",function(){return b}),s.d(t,"u",function(){return _}),s.d(t,"d",function(){return C}),s.d(t,"f",function(){return k}),s.d(t,"g",function(){return w}),s.d(t,"h",function(){return y}),s.d(t,"m",function(){return x}),s.d(t,"o",function(){return A});var n="SET_USER",a="RESET_USER",i="START_LOADING",r="END_LOADING",o="SET_GLOBAL",c="UPDATE_CHATLIST",l="UPDATE_ROOMREAD",u="SWITCH_ROOM",d="END_CHAT",m="SET_WEBSOCKET",h="SET_ROOMMSGS",p="SET_ROOMS",v="SET_RESTRAINTMEMBERS",f="COLLECT_ENVELOPE",g="SET_STICKERGROUPS",b="UPDATE_UNLOGINEDDIALOG",_="UPDATE_CONNECT",C="REFRESH_ROOM",k="SET_CONVERSATIONS",w="SET_CONVERSATION_MESSAGES",y="SET_CONVERSATION_TARGET",x="SET_SEND_ONLINE_STATUS",A="SET_UNREAD_CONVERSATIONS"},Qpvt:function(e,t){e.exports="data:image/png;base64,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"},RFZe:function(e,t,s){"use strict";function n(e){s("Hd/b"),s("MyY+")}var a=s("Ds4J"),i=s("MWBs"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-4cfb64e7",null);t.a=c.exports},RV5F:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA2CAYAAACFrsqnAAAAAXNSR0IArs4c6QAAChdJREFUaAXVmvtPVFkSx29D+36AgoxxDENEjUtcRx1R11ck+oMhmRh/Ia6YqD8Z/Ysmk+wkY+IzMWaXxIwuq64YdNiViFGWRccgUaLoCjI+EXS/n2NX5/Tl0txu2+xsJYdzzzl1qupbVefR95IIstCHDx+maniWynAikXiehTVySPOLT58+Xc/g+/fvzzY0NIzSp2apSpHKkOS+Vf3JlIiSIGVz1b9ZZZGKA6L6iUq3SqeU/0d1Vmpqalry/PnzzW/fvq2EsbKy8v727dsf67FKBfkAGVTpUGmVzHeq86YxQAQCxQ0qM8eR+kb9/1BpkfLhMM+pU6dKRkZG6gTga9WJ2bNnB2vWrAkWLcIn49Itjfz5U8BkABEIjN+vUq4yEfWJ4Scp74VRACarWvv69es/KI1mDA8PBzU1NcHatWuDyZMZmpDaJOvshFzjMISBbBXfVnmyNZlMkkrkc7XKVyrTVcJEOvz1+PHjQ6Ojo3UC8AUANDfYtGlTsHjx4jB/ui1e1k1QVESGKc+KipD1vcCgN2dK2gxFg+ff0X7z5s3DWbNm3U6N/VNjrBPG1qmUpfqpJqnUL1myJLhx44YzDBBaC8HChQs9Nu0WAvjq1SsXHXiMAMPYzJkzkbVa5ZyN5VJ/dMfHGWUSWKFoBPLKSl+I2r+qtKnvO5WfpDxjp1m9enVQXl7uDFqxYsUYEIODg8GzZ89cpHwQvg45j2aNnEYG5Ew+kKTCm0BgcXFxtRZrTYS0eeorf/LkSdDf3+8iAA/psXz58oCFTe3T0NCQa86dOzdyreA4opKqS65evdpw5MiR5QKUkfa+zKjnNDPpI2GHFZVpMMpzw+o7PXXq1H+rZn1slMJ1MjqJ0hcvXjjDpk//uHRwQHd3d0BEjMxIa4drGwcIG0JfX19w/vz5ICXzX9OmTbuis+dheF5UOw2EQRnMtluDF0kBKRhRdLplfMWUKVPKTbEvCD4iAjFuqRPFa/O8CLi5tDH+8uXLzhnIAJg2kBHpvTZnzpy2+vr6j6E1IaE6DGS+hB5QVKawAE2gGYXBZrQvJ7y9mqE+D31Wwv2KuotGc3OzP+SeGZODB1W3zJs3r6Ourm5kDJM6MoDAoEnVUvhHGZ9MLcC08RjiA7FngFgkkIETAA8xx8ifb88YynoDBPpMps2hpg8dsq1Hu2nLrl27fvHHec4AcubMmVJdKzaWlpZ+U1tbW1RRUeEMsojY5LAy2rZWMJBt1icfDP1mGM+sq7a2NqcnLJdxn8xZAt+uclmAuOI4ckCENKmTeZ0MYDHPxhAmca3gdGbHoQ0gvG3kG6hzwBnIuEUSPjOO+RTa8Dx48CC4detW8OjRI9dnfCY7W010pHtIzvtZm8HPOhpGElzuBgYGtgrMl2HP00Y5QBYsWODOB2ojA0JtRvJs/WYcNbscxpNG7E6cLRDz8iFkptLtoQBdSupPI4IhU2yCUYJReA1QlmrGG2UEMkyOgaImCj09PcG9e/fceNRc0xunRiaZo/JlSUlJI4egU2KCw0aQMhxyy5Ytc95DAGR1NqXwGB+HJVcXosJ1Jp+UMl3IJH0pOBibk6bIjKPtBhQN1sjKlSvdiR1OOxMatzY93MHmz5/vFvnNmzddyqHPHDiRPCJLJAyA8UcmKMyc0OvXr3cTmFQoMkcRZf3YCgDDzoUOy4ooXYwDANuMzDm0I4EwwELyJ9FnZN4zo6w/XPt84TEMI203bNjgIt/e3u42gXB00GFp5BseludfGsNjzksI8Q1GEVeY1tZWlxY2CW91dnY6r1nf3bt33ZoIG2fjyKWQajt27Ai2bNniwJnB6EYXsq3P5obrJJ6fiIiMhZ40wHso4fqOAutjS9Vh6vrZHNhyOex4JlUZQ06YzEj4SDecRMpF8Ybn0gZDUtf1O5MmTarW5bAo20SUMY7ReIm0YNumzU6E1xGI8ZcuXXLbLNcP+ru6uoLe3l4HZunSpY7PjDfD4LMIMA/n0ZeNWFPI0bw7SW2JR0+cOFGtxjZ1LggrCAuyBYlSDIbf+uBFOQXD7Zka/mvXrgWkG5HE8xDzKUTz6dOnzlk4jDnZiHE5rq+srOzKzp07Ox337t27f9Eu0mSCswnwxyyCUeAB5xvDM338UuSCeOHCBWc8+Q9oohsXADYgb9WqVU179+7tpJ3etbj0YRCeMwNQbMbCHCbjM6/Str4wr7Vt3FKS6MSZZ/NJuXfv3gX60ZW+qDKWBiIACXIcIBjPgiZXSYEoj5tgvzY+M9Yfs2d4MCbOTmRzkIdNAGC+1rMDgc3GkwZiHW4HSKUAVwm2xlw8hiJK1BwDYFHOBtjsoca5+rXoZOoXo6v9cZ7HADEjiAaFNopJM0DSjkPMMTDMwRhKHDKAFgXmaGfN2FTCcsYA8Rkw3rZCvIlBXOm58E1EvjFsyXEdAB+7l95YOhUGAHnZZGTd42wikQAQxB2JN4gA+xzE7aCjoyOdRuiGzJbxdGaNiE1CCB5BqNWWJkTNvG/8+dTmGOQSBdM1EQDTlTUixuTXBoSaHEYxdS7EXDPQl4FTOAaoIeOJIztnICYUZeY1wFDiKoaPH1rcrXgGGKlraWQ6cqnzBoISiw4GYBBng20KUUbAD+l+5zxvr1HNIVFz4vbFWiMTCbN1AhhShWIR8+cCkvPAH2dOIaggQDAEb1vBUIsMgDCWKFBzKnOo+eB/U0DMGEs3agCxdgABGQD6C00Fi0jYMDxOITJspwCDCpVKYX3pxS5FCVMWZvqUtgEqtGzkYbPZ5gN5JW8N2f3KGApVFyoSAMBGbRq/KmXT3/7TQPSbekBMPygN2tkO8eRvjSy6qturq6t/1CeGF2ZjhrUHDhzghexf9Fb+ti6Gm3XKVgGKBfu/JAOgHa9HB2nL/v37x3xWyABixvL94eLFi/f1K+xrhRBApbmc3CanEHXqsBzUjtdy6NChDt68R8mNBAJj6svQdb2lv6MTe5O88o1Sr7hQuR5ljN+XAjAqZ17Xr9QrfHo7fPiwz5LxPC4Q45IH+HZ3Vr8PbgvENi20SkL9uYjFDAjpuadXTn/bt29frI+hsS2SZ+4rOj8KQK3SbZ0UzSlkdDwAA9LVLO93yYmjcR2W3ofjToBPH4em61t7rV4GbFRzcraTGrDhFw30VVVVuTf9zGU71cE5rPr6jBkzWvQxKfPbXQzj8gJics+dO1fx+PHj7S9fvlxKH0bhWZ+yAeG/hlJR7da236xfnv3+3FyePwmIKTp27Ngy7Wp1itAXGJYyzg1HAWGAV6f62dwvAFf0Heamycq3znRfnlL27NnTpYX5J306btZG8HK8zcDWATxS9Xct6h8KAQKzCxIRHz//eKZUq1OEfi/Di7k0skYAofJBC7lDB9vFgwcPpq8X/vx8nwsOxAw5evToV9qytyndKgGiFOrVC+eWxsbGO8bzf1Nruy4+efLkt/pvn295/pyG/xdtEAbyI+s7AQAAAABJRU5ErkJggg=="},SAJ0:function(e,t){},TarU:function(e,t,s){"use strict";function n(e){s("ijY6")}var a=s("B/nZ"),i=s("9LYF"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-c0ecd99c",null);t.a=c.exports},UJHa:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checking-area"},[n("div",{staticClass:"header"},[n("div",{staticClass:"top p-t"},[n("span",{staticClass:"rule p-l",on:{mouseover:function(t){e.rulesVisible=!0},mouseleave:function(t){e.rulesVisible=!1}}},[n("i",{staticClass:"el-icon-question p-r-sm"}),e._v("签到规则\n      ")]),e._v(" "),n("span",{staticClass:"title"},[e._v("每日签到")]),e._v(" "),n("span",{staticClass:"cancel text-right p-r"},[n("i",{staticClass:"el-icon-close pointer",on:{click:function(t){return e.$emit("closeCheckinDialog")}}})])]),e._v(" "),n("div",{staticClass:"continue-day text-center"},[e._v("已连续签到\n      "),n("span",{staticClass:"number"},[e._v(e._s(e.continuousCheckins))]),e._v("天\n    ")]),e._v(" "),n("div",{staticClass:"progress p-t-lg p-b"},e._l(e.progress.parts,function(t,s){return n("div",{key:s,staticClass:"progress-bar"},[n("div",{staticClass:"bar"},[n("div",{staticClass:"percentage",style:{width:e.getProgressWidth(t)}})]),e._v(" "),n("div",{staticClass:"gift-day p-r-sm p-l-sm text-center"},[n("div",{staticClass:"day"},[e._v(e._s(t*e.progress.giftDay)+"日")]),e._v(" "),n("div",{class:["icon",{checked:e.continuousCheckins>=t*e.progress.giftDay}]},[n("i",{staticClass:"el-icon-circle-check-outline"})])])])}),0)]),e._v(" "),n("div",{staticClass:"body"},[Number(e.checkinData.special_bonus)?n("div",{class:["congratulation",{loading:e.loadingSpin}]},[e.loadingSpin?n("div",{staticClass:"loading-spin"},[n("div",{staticClass:"loader text-center"})]):n("div",{staticClass:"text-center"},[n("p",{staticClass:"text"},[e._v("红包彩金")]),e._v(" "),n("p",{staticClass:"amount m-t"},[e._v(e._s(e.checkinData.special_bonus))])])]):n("div",{staticClass:"steps-area"},e._l(e.progressRows,function(t,a){return n("ul",{key:a,staticClass:"row"},e._l(t,function(t,a){return n("li",{key:a,class:["step",{checked:t-e.continuousCheckins<=0},{"gift-award":t%e.progress.giftDay==0},{pointer:t===e.checkinDay&&!e.hasChecked}],on:{click:function(s){return e.checkin(t)}}},[t%e.progress.giftDay==0?n("div",{class:["gift","m-l","text-center",{today:t===e.checkinDay},{clickable:t===e.checkinDay&&!e.hasChecked}]},[n("img",{staticClass:"img",attrs:{src:s("nfGu")("./gift_"+t+"@2x.png"),alt:t}}),e._v(" "),n("div",{staticClass:"ribbon-container"},[n("h1",{staticClass:"ribbon"},[e._v("\n                "+e._s(t)+"日奖励\n              ")])])]):n("div",{class:["ordinary",{today:t===e.checkinDay},{clickable:t===e.checkinDay&&!e.hasChecked}]},[n("transition",{attrs:{name:"fade"}},[t===e.checkinDay&&e.statusPopoverVisible?n("span",{staticClass:"status-popover text-center",style:{backgroundImage:"url("+s(e.hasChecked?"HT6V":"DRWy")+")"}},[e.hasChecked?n("span",[e._v("已领")]):n("span",[e._v("￥"+e._s(e.singleDayAmount))])]):e._e()]),e._v(" "),e._m(0,!0),e._v(" "),n("div",{staticClass:"day"},[e._v(e._s(t))])],1)])}),0)}),0)]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.rulesVisible?n("div",{staticClass:"rules",on:{mouseover:function(t){e.rulesVisible=!0},mouseleave:function(t){e.rulesVisible=!1}}},[n("p",[e._v("签到规则")]),e._v(" "),n("ol",[n("li",[e._v("\n          1. 签到方式：\n          "),n("p",{staticClass:"p-l"},[e._v("  用户每日登录后，在页面点击“签到”按钮后进行签到，每天只能签到一次。")])]),e._v(" "),n("li",[e._v("\n          2. 签到奖励：\n          "),n("p",{staticClass:"p-l"},[e._v("  每日签到即获得签到彩金 "+e._s(e.checkinSettings.single_day_amount)+"。")]),e._v(" "),n("p",{staticClass:"p-l"},[e._v("  连续签到7日有机会获得红包彩金 "+e._s(e.checkinSettings.d7_min_amount)+"〜"+e._s(e.checkinSettings.d7_max_amount)+"。")]),e._v(" "),n("p",{staticClass:"p-l"},[e._v("  连续签到14日有机会获得红包彩金"+e._s(e.checkinSettings.d14_min_amount)+"〜"+e._s(e.checkinSettings.d14_max_amount)+"。")]),e._v(" "),n("p",{staticClass:"p-l"},[e._v("  连续签到21日有机会获得红包彩金"+e._s(e.checkinSettings.d21_min_amount)+"〜"+e._s(e.checkinSettings.d21_max_amount)+"。")]),e._v(" "),n("p",{staticClass:"p-l"},[e._v("  连续签到21日后，则签到天数重置。")])])])]):e._e()])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coin-icon text-center"},[n("img",{staticClass:"img",attrs:{src:s("Qpvt"),alt:"money"}})])}],i={render:n,staticRenderFns:a};t.a=i},Uizl:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,n){return s("path",e._b({key:"path-"+n},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,n){return s("polygon",e._b({key:"polygon-"+n},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[s("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},a=[],i={render:n,staticRenderFns:a};t.a=i},UuGl:function(e,t,s){"use strict";function n(e){s("bfP6")}var a=s("LVX9"),i=s("o4Z0"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-03a1382f",null);t.a=c.exports},VseP:function(e,t){},XHYX:function(e,t){e.exports="data:image/png;base64,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"},"Y6+3":function(e,t){},YaEn:function(e,t,s){"use strict";var n=s("7+uW"),a=s("/ocq"),i=s("Ce9q"),r=s("H5zU"),o=s("N/0d");n.default.use(a.a),t.a=new a.a({routes:[{path:"/",name:"Home",meta:{requiresAuth:!0},component:i.a},{path:"/results",name:"Results",component:o.a},{path:"/maintenance",name:"Maintenance",component:r.a},{path:"*",redirect:"/"}]})},YsPp:function(e,t,s){"use strict";function n(e){s("zFwQ")}var a=s("4BZg"),i=s("UJHa"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-bb34059e",null);t.a=c.exports},ZNbi:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n);t.a={user:function(e,t){return e.user},myRoles:function(e,t){return e.user.roles.map(function(e){return e.name})},latestMessages:function(e){return e.conversations.filter(function(e){return e.targetId}).sort(function(e,t){return t.sentTime-e.sentTime}).map(function(t){var s=t.targetId,n=t.latestMessage.content,i="string"==typeof n.extra?JSON.parse(n.extra):n.extra,r=i.conversation_members,o=/(www|http)/gi.test(n.content),c=void 0;return r&&r.forEach(function(t){parseInt(t.id)===parseInt(e.user.id)||c||(c=a()({},t))}),a()({},n,{extra:i,content:o?"发了一个媒体":unescape(n.content),target:c||{},targetId:s,unreadCount:t.unreadMessageCount})})}}},a6lS:function(e,t,s){"use strict";var n=s("FhoZ"),a=n.build.env,i=a.HOST.replace(/"/g,""),r=i+"/v1/member",o=a.ghost.replace(/"/g,""),c=a.decode_key,l=a.appKey.replace(/"/g,"");t.a={domain:i,login:i+"/login/",register:i+"/v1/register/",member:i+"/v1/member/user/",user:i+"/v1/token/identity/",logout:i+"/logout/",chatEmoji:i+"/v1/emoji/",sendMediaToChat:i+"/v1/media/",annoucement:r+"/announcement/",latest_results:o+"/latest_results/",memberRoom:i+"/v1/member/room/",room:i+"/v1/room/",global_preference:i+"/v1/global-data/",check_username:i+"/v1/user/check/",setCookie:i+"/set_cookie/",envelope:i+"/v1/envelope/",stickers:i+"/v1/stickers/",checkin:i+"/v1/member/checkin/",game:i+"/v1/member/game/",plan:i+"/v1/member/prediction/",ryToken:i+"/chat/token/",messageOnline:i+"/v1/manage/message/online/",appKey:l,decode:c}},aMMw:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{attrs:{src:e.src,alt:""}})},a=[],i={render:n,staticRenderFns:a};t.a=i},bfP6:function(e,t){},dIqY:function(e,t,s){"use strict";function n(e){s("4p1p")}var a=s("JJT7"),i=s("0yqT"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-23fc6b60",null);t.a=c.exports},dXrS:function(e,t,s){"use strict";function n(){return"fa-"+(o++).toString(16)}var a=s("bOdI"),i=s.n(a),r={};t.a={name:"fa-icon",props:{name:{type:String,validator:function(e){return!e||e in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return i()({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,s=e.height;return Math.max(t,s)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,s,a){var i=n();return t[a]=i,' id="'+i+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,s,n,a){var i=s||a;return i&&t[i]?"#"+t[i]:e}),e}},mounted:function(){var e=this;if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(!this.icon){var t=0,s=0;this.$children.forEach(function(n){n.outerScale=e.normalizedScale,t=Math.max(t,n.width),s=Math.max(s,n.height)}),this.childrenWidth=t,this.childrenHeight=s,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(s-e.height)/2})}},register:function(e){for(var t in e){var s=e[t];s.paths||(s.paths=[]),s.d&&s.paths.push({d:s.d}),s.polygons||(s.polygons=[]),s.points&&s.polygons.push({points:s.points}),r[t]=s}},icons:r};var o=870711},dcDp:function(e,t,s){"use strict";function n(e){s("J2QN")}var a=s("I0yE"),i=s("fniT"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-65f2c8e6",null);t.a=c.exports},dekI:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},a=[],i={render:n,staticRenderFns:a};t.a=i},dhIU:function(e,t,s){"use strict";var n=s("2cg0"),a=s("rBKV");e.exports=n(a,{NODE_ENV:'"development"',HOST:'"http://localhost:8003"',chatHost:'"ws://localhost:8003"',ghost:'"https://api.h9339.com"',decode_key:'"bQeShVmYq3t6w9z8C&FxJDNcRfUjWnZr"',appKey:'"82hegw5u8y9ax"'})},eQpG:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},e._l(e.resultsMap,function(t,n,a){return"csffc"!==n?s("div",{key:a,staticClass:"result m-b"},[s("div",{staticClass:"information"},[s("div",{staticClass:"text"},[s("span",{staticClass:"name"},[e._v(e._s(t.displayName)+" ")]),e._v(" "),s("span",{staticClass:"issue"},[e._v(e._s(t.oldIssue)+"期")])]),e._v(" "),e.countdownMap[n]?s("div",{staticClass:"text"},[e.countdownMap[n].days+e.countdownMap[n].hours+e.countdownMap[n].seconds+e.countdownMap[n].minutes!==0?s("div",[s("span",[e._v("距下次开奖")]),e._v(" "),e.countdownMap[n].days?s("span",[e._v(e._s(e.countdownMap[n].days+"天"))]):e._e(),e._v(" "),e.countdownMap[n].hours?s("span",[e._v(e._s(e.countdownMap[n].hours+"時"))]):e._e(),e._v(" "),e.countdownMap[n].minutes?s("span",[e._v(e._s(e.countdownMap[n].minutes+"分"))]):e._e(),e._v(" "),s("span",[e._v(e._s(e.countdownMap[n].seconds+"秒"))])]):s("div",[s("span",[e._v("开奖中...")])])]):e._e()]),e._v(" "),s("div",{class:["result-numbers","m-b",{"tie-up":"bjkl8"===n||"auluck8"===n}]},e._l(t.resultStr.split(","),function(t,a){return s("span",{key:a,class:[n,n+"-"+(e.loading(n)?e.getPositiveNumber(e.number,t):t)]},[s("b",{class:["num",{transition:e.loading(n)&&a%2},{transition2:e.loading(n)&&!(a%2)}]},[e._v("\n          "+e._s(e.loading(n)?e.getPositiveNumber(e.number,t,!0):t)+"\n        ")])])}),0)]):e._e()}),0)},a=[],i={render:n,staticRenderFns:a};t.a=i},fniT:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"stickerCarousel",staticClass:"stickers-packs",attrs:{"indicator-position":"none",arrow:"never",height:"250px",autoplay:!1}},e._l(e.stickerGroups,function(t,n){return s("el-carousel-item",{key:n,attrs:{name:t.name}},[s("ul",{staticClass:"sticker-container"},e._l(e.stickers[t.name],function(t,n){return s("li",{key:n,staticClass:"sticker-pack m-l m-r m-t"},[s("img",{staticClass:"sticker-img pointer",attrs:{src:t.url,alt:n},on:{click:function(s){return e.sendSticker(t.url)}}})])}),0)])}),1),e._v(" "),s("div",{staticClass:"indicators"},e._l(e.stickerGroups,function(t,n){return s("div",{key:n,class:["indicator","pointer",{active:e.nowSticker===t.name}],on:{click:function(s){return e.switchStickers(t.name)}}},[t.logo?s("img",{staticClass:"img",attrs:{src:t.logo,alt:"sticker.logo"}}):s("span",{staticClass:"text"},[e._v(e._s(e._f("truncate")(t.display_name,3)))])])}),0)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},gyMJ:function(e,t,s){"use strict";function n(e){return P.a.post(L.a.login,z.a.stringify(e))}function a(){return P.a.post(L.a.logout)}function i(e){return P.a.post(L.a.register,z.a.stringify(e),{withCredentials:!0})}function r(){return P.a.get(L.a.user)}function o(e,t,s){return P.a.get(""+L.a.ryToken)}function c(e,t){return P.a.put(""+L.a.member+e+"/",t)}function l(){return P.a.get(""+L.a.chatEmoji)}function u(e){return P.a.post(""+L.a.sendMediaToChat,e)}function d(){return P.a.get(""+L.a.annoucement)}function m(){return P.a.get(""+L.a.global_preference)}function h(e,t){return P.a.put(""+L.a.room+e+"/",{action:"banned",user:t.user,banned_time:t.banned_time,room_id:t.id})}function p(e,t){return P.a.put(""+L.a.room+e+"/",{action:"unbanned",user:t.user,banned_time:t.banned_time,room_id:t.id})}function v(e,t){return P.a.put(""+L.a.room+e+"/",{action:"block",user:t.user,block_time:60,room_id:t.id})}function f(e,t){return P.a.put(""+L.a.room+e+"/",{action:"unblock",user:t.user,room_id:t.id})}function g(e){return P.a.get(""+L.a.room+e+"/")}function b(){return P.a.get(""+L.a.memberRoom)}function _(e){return e?P.a.get(L.a.member+"chat_list/?offset="+e.offset+"&limit="+e.limit):P.a.get(L.a.member+"chat_list/")}function C(e){return P.a.get(L.a.member+"chat_list/?nickname_or="+e+"&remarks_or="+e)}function k(e){return P.a.get(L.a.check_username,{params:{username:e}})}function w(e){return P.a.post(L.a.setCookie,{cookie:e},{"Content-Type":"application/json",withCredentials:!0})}function y(e,t){return P.a.get(L.a.envelope+"?offset="+e+"&limit="+t)}function x(e){return P.a.post(L.a.envelope,{sender_id:e.sender_id,pack_amount:e.pack_amount,pack_nums:e.pack_nums,content:e.content,room_id:e.room_id})}function A(e){return P.a.put(""+L.a.envelope+e.envelope_id+"/",{receiver_id:e.receiver_id})}function E(e){return P.a.get(""+L.a.member+e+"/")}function I(e){return e?P.a.get(L.a.stickers+"?group="+e):P.a.get(""+L.a.stickers)}function R(e,t){return P.a.put(""+L.a.member+e+"/",{remarks:t})}function O(e,t){return P.a.get(L.a.checkin+"?offset="+e+"&limit="+t)}function S(){return P.a.post(L.a.checkin,{platform:0})}function U(){return P.a.get(L.a.game)}function D(e){var t=e.plan,s=void 0===t?"benz":t,n=e.scheme,a=void 0===n?"1st_place":n,i=e.numbers,r=void 0===i?5:i,o=e.limit,c=void 0===o?50:o;return P.a.get(L.a.plan,{params:{plan:s,scheme:a,numbers:r,limit:c}})}function M(){return P.a.post(L.a.messageOnline,{},{"Content-Type":"application/json",withCredentials:!0})}t.s=n,t.t=a,t.u=i,t.n=r,t.l=o,t.E=c,t.f=l,t.x=u,t.e=d,t.i=m,t.a=h,t.B=p,t.b=v,t.C=f,t.q=g,t.o=b,t.p=_,t.v=C,t.c=k,t.z=w,t.r=y,t.w=x,t.A=A,t.j=E,t.m=I,t.D=R,t.g=O,t.d=S,t.h=U,t.k=D,t.y=M;var j=s("mtWM"),P=s.n(j),T=s("mw3O"),z=s.n(T),L=s("a6lS");P.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"},h9m6:function(e,t,s){"use strict";function n(e){s("CPk7")}var a=s("1GKN"),i=s("nbpc"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-9aff594e",null);t.a=c.exports},ijY6:function(e,t){},j7js:function(e,t,s){"use strict";function n(e){s("qn76")}var a=s("FDJM"),i=s("wzNu"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-0b63d944",null);t.a=c.exports},jC6v:function(e,t,s){"use strict";var n=s("u69A"),a=s("aMMw"),i=s("VU/8"),r=i(n.a,a.a,!1,null,null,null);t.a=r.exports},kQTk:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"privatechat-container"},[n("h2",{staticClass:"title text-center m-b"},[e._v("联系客服"+e._s(e.currentChatIndex))]),e._v(" "),n("div",[e.showing&&e.showing.length?n("ul",{staticClass:"chat-records m-b"},[e._l(e.showing,function(t,a){return-1!==t.type?n("li",{key:a,staticClass:"record m-t m-b"},[n("div",{class:["speaker",{self:t.sender.username===e.user.username}]},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.sender.avatar||s("HfaK"),alt:t.sender.username}})]),e._v(" "),n("div",{staticClass:"information"},[n("span",{staticClass:"user"},[e._v(e._s(t.sender.nickname||t.sender.username))]),e._v(" "),e.getRoles(t).includes("customer service")?n("span",{staticClass:"character"},[e._v("\n              客服人员\n            ")]):e._e(),e._v(" "),n("span",{staticClass:"time p-l-sm p-r-sm"},[e._v(e._s(e._f("moment")(t.created_at,"HH:mm:ss")))]),e._v(" "),n("div",{staticClass:"content-box"},[0===t.type?n("div",{staticClass:"content p-l p-r m-t-sm"},[e._v(e._s(t.content))]):1===t.type?n("img-async",{staticClass:"content",attrs:{src:t.content},on:{imgStart:function(t){e.imgLoadCount++},imgLoad:function(t){e.imgLoadCount--}}}):7===t.type?n("div",{staticClass:"sticker-msg"},[n("img-async",{staticClass:"img",attrs:{src:t.content},on:{imgStart:function(t){e.imgLoadCount++},imgLoad:function(t){e.imgLoadCount--}}})],1):e._e()],1)])])]):n("li",{staticClass:"text-center"},[n("span",{staticClass:"separator"},[e._v("以上是历史消息")])])}),e._v(" "),n("div",{ref:"msgEnd"})],2):n("div",{staticClass:"text-center chat-records"},[n("div",{staticClass:"p-t"},[e._v("暂无聊天记录")])])]),e._v(" "),n("div",{staticClass:"speaking"},[n("div",{staticClass:"control-bar"},[n("div",{staticClass:"left"},[n("el-popover",{ref:"emoji-popover",attrs:{placement:"top-start",width:"280",trigger:"click"},model:{value:e.emojiShowing,callback:function(t){e.emojiShowing=t},expression:"emojiShowing"}},[n("div",{staticClass:"emoji-container text-center"},e._l(e.emojis.people.slice(0,42),function(t,s){return n("span",{key:s,staticClass:"emoji pointer",on:{click:function(s){e.speakingContent=e.speakingContent+t.emoji+" "}}},[e._v("\n              "+e._s(t.emoji)+"\n            ")])}),0)]),e._v(" "),n("span",{directives:[{name:"popover",rawName:"v-popover:emoji-popover",arg:"emoji-popover"}],class:["emoji","pointer",{active:e.emojiShowing}]},[n("icon",{attrs:{scale:"1.3",name:"smile-o"}})],1),e._v(" "),n("label",{staticClass:"upload pointer",attrs:{for:"privateImgUpload"}},[n("i",{staticClass:"el-icon-picture"}),e._v(" "),n("input",{ref:"privateImgSend",staticClass:"img-upload-input",attrs:{type:"file",id:"privateImgUpload",accept:".jpg, .png, .gif, .jpeg, image/jpeg, image/png, image/gif"},on:{change:e.sendMsgImg}})])],1)]),e._v(" "),n("div",{staticClass:"typing"},[n("div",{staticClass:"input"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.speakingContent,expression:"speakingContent"}],staticClass:"textarea",attrs:{placeholder:"请文明发言",type:"textarea",autocomplete:"off"},domProps:{value:e.speakingContent},on:{input:function(t){t.target.composing||(e.speakingContent=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"send-button pointer text-center",on:{click:e.sendMsg}},[n("span",{staticClass:"text"},[e._v("发送")])])])])])},a=[],i={render:n,staticRenderFns:a};t.a=i},kZKH:function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),r=s("xJsL"),o=s("dIqY");t.a={components:{Login:r.a,Register:o.a},computed:a()({},Object(i.c)(["unloginedDialog"]))}},kuJG:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA2CAYAAACFrsqnAAAAAXNSR0IArs4c6QAAD2NJREFUaAXNWgt0HVUV3Xfm/fLya9L0m1BLbW2bYMUWYUHLpyCURUXqryoLqOiq4oeKVgtScQUqoktFK4i6rK4FBRdS8YMo2tYWQYqf8Glp2pRCE5s0bZqkafKSvO/MdZ/73ry+JC9pQyN6VubdmTv3nHv2Oeeee2YmCiOQ3q9L0INKOOhV56rmEYbmvbV9u/Z9evNL91vKwp7Abz+H2tqUrtN+pDAdGj6UoFnVqN68zKPsVPnG68f1DASxFi4u4/1KHr2wUA+FP6AMm9QF6rV8fF6fBtT8O3dd2djh3n486iyyyPyRqaV/3Tj/zF2WwiUcN4uyfOxuYvsgwviOWqxiHv8baYcA0Zv1QsSxiRNMoeVAMFSLh83Dx8PBcfjxAPu+oZaoPvYMoJlrdlZ1x1PremL6+rhj2WeH/bhzdhWWVo6D7edQJ3MQrZEZYhvFoyjFjacDZgAQ/Wc9kco+jXLMpbVAlcHQggEkEwtJf4BHCv+i124hmB3SffVP6sI79/tu7uzXX+h3rEl2Mo5bpk/BV+dMRWmATMLvyRAGj0RekIeD+9R71Cqve7TtQCB1+g5Odhci+DYttAddVDmFKzjJxRRcYQCJRYXEuhr90PFbpz27tzkSt+7qS+h5TiqFCbbCD98+Ax84Y1zao+JVUVhmk3MBlPGMHp/uVxH6JYgFBLOXPaOmLBAu7CBewT+RxDxOtFx9RG3ypOk9egqO4n2c6vNU5G1I8I4oI9wEVLv7CO7c38pIcVDMRfDEObNx4eTitCfZcA0g2k4Hd2tU8L5fwjTXOxLChWbcvWqpWs2zUZPYKU0tXIBJ1BglLazwuqVV1eqwukQ9gLNwNpW6JWG7PcbCokwSuH3WZCwsLYSTTOLLM6pw4SRqL5afRMMzbJqbXBxoc1BC4H6ZMRcEL811lG3c/ZDeeHipdI2WTgBJIkQL26IYwVyhn9LvHyLsKKrR51TvPprAy50JEx2iRIBJYPWZk3BGOIybpk9IKyYhw/UVadQoTCjUFNkoZMgNIS9UCTzqWGfc0YhfTPjCC8t1rTHVkOHDdWQl62cYPm0Mrj6ICiCsXh7XqmXq9/ofjOQOrOGKkMUYEq91xFyEgxbCEhKkY7EUftVyHJ+cWZEOEzGIJAuxvswy2AvsMpYQzwnRGE/2RHB1XQOCwQDDz32cie6b++6eX5ceMPJvFogM07/Tm7gOPkiF04tTI4YiPMkJazjRXF4NJclgkpZJSVrXL+eShQSEpyRPB5D0iydyQXIdfay+EQ+2HIXPsqB9QfhVKloQUOvPqQzft+XWOa0DZAy6GAhkq55HBZ6hV0qNEnJXFJOJ5fAyTy6XnMte4PVJK4s3zsMjzxvSihzvWu4LICa3zZEI3vtsA5JKZ0WBFYHyhRBUyaaysLr73o8HHlpeUyOpZgh502dv6N92L0k5Jb/x9aPArBe5443yLOj1ef3iAfGMR+JRL/aFxzvkvscjfWKYcmBHog8f3vYaDsXiYFIbQtry0dN+hCzn6Wll9t27vj5vG4eJSbI0gG1Bbd203R3q1gUFhSu/NavSv6i0KG1ZsbBHwpELSPpFIUmzck/GRjLnbLIkPB7JOAJPUvyGwx1Y+8JBdDlJ2GqAOt7obKvsIAKW1sUh62dV43zrXqitOejdNJw3/3F/8PFtvauO9+pVSfirkvF+hG3WR1PG41NvmYRzisPpFCJKyiL2lMptBYhskuINWUueTtLKIWDlPveQiOPiqY4Ifth4BM8c6+Y9TU8wjLKCOS4PiRgJPMsfgk+nWiYWqx+svrToB6uumhVX56/755X1h/21Udc+z00x/HQ6Jkwoc8KQ7cMCeuai8cW4omIcLiovTIOSiQQIF6kJKwEgTB5QD0AGxJH+JLYci+B5Hk93dqOhL0Z2DTtfLFHMSUkx3PziodQ/ZhdHan1lIf9TPf1RWBSoaBWP5EzRKzECe66zC7GkxuKiEtlj0hYWBWVdiOKe8jwdsFZkbCYsE3GNza3deLjtKDsJwGeD69rYQthGRzK5i0T0GGLdbeeVVRc8Rf3ZmeyD60TpjJSxkmKfuDDlupgeDOFHc2dix7lzcPnEYomCtOW99CnXcnjkXXvjxEs8phUEsPEdZ+IvC2pwUdk4OPR2KpfP4x+hFb2MsbULHTkE3V7POG1hVnMkuYo0QajhugxuzSC2A9yF/bhxahVunT4ZU8McJop7mWiEyYa9lQF46fgiLCqdjZ+3duKephYcjMWM50/EQj4J1I9/YlxNL+ieFhq/l9fkYhSJ6Bx+GSyAXLjJfqytnIr186owNUQQuVkr3zz5+kSUHIOJ3gkwjG96SwV2vOssfH5aJQoUy016Px+JF4yySUZM56s89kEzXRsQwpDxag6QgWLKmbsNAMlGsuFlGMyojJK5XUZpqWpzlZfz4WagdytppO/PPQNb58/FleVlBKPh6BypYm03BbfnIMNoN9xoR1qgMbjRJPuTfxoKc2UlSiZi+W2UKcu05GiOJrG6oQUtUa5mkUAA7VEHGw90oT1GDTOAHjvSjW0dfIiUMbkAeWlIdObw88eF8Yd3zsYj1bMwpyBsItiw9LfDPVoP3d1MQBLXEkY5QNNSzK9lMYUNSzK58HXy6OLB60eaO3F+XT3ubz3CWkjRgsBDjcew6Lk9uOHlfbjwub14sLEDmmMPxJJY8mI9PrvnIMETtADMR9RRFL+2qhzPnVuDz5TzGa6jAc6x16BTrO9NNs1nibQwxbrMisVjf7RtO6Ws9CNfvnnMLLLJ0bgPHWrDob4ubpjAs529eM/zr2HFy/vxarSfKdXCvv4+fGzn61i243Uc6I3BoWcfONSKhXV7cH9TO2IMHyMvdyLRUQ7WZ2UdFq6JB6FjXbShdyN38Ilz0dkfsCEYrM1r5i+dVOa/qjiAOpuLbljKyGTlTi+lEEn04tqXG/Cn9k74uN945YW0Ur0+0d6BDQRg8RlErlsScdz86gEsfmEftrSzhvF0lJaUpNd7XmdRwFA2YPOsg/RI+WUapszigKqrnj7pA1vuWbZU1ELr+kVbrlsQXFnMGp4bSnqg3MhDxkompDRS3HuUG2fadgZErtmxOcZs2nSARKfsV7KL/73nOK7a2YDrdjdhP3d7TS/3H+D7pkNcLtxYtdEoz8TSJeAIQHQsofuuu6Bq5c4HPvRrucXUlKZQMKCsJOOnl9K4CRJzOgTyZ8U0EwUTjlmISvtoJW71Jp5F9fxkWzbXj8IjLf9GffM+bK66jEtHePOPz/YKCMlorAMR5Wu24gKEQoGMP3Oi1bYCSjFjwGZ4xfrwvYaXsOUw/ZwdmhU56CQ9QDPcHKkOXKlXpC8Po6RT7lM6cpgJZA/6etrM7m48N0hq9tKI4o/Ugb3MOFGGJRe3KhoHN3iCM+sRUzAJ6lABXefHXjLd+2oDLi+dkPbbySxmZuZm6kh1kGAEcDIWdiawPC9FqUgPUyl3ZSGLYZIHrrlnfkQflk1iWCQol88kKOI+wKpD07OmxsuMzgEiNhSxdJ94paCIEcadUEJL3nBIUmPkpMwa4nleIr8RQUAmbfKtqKRG7souayK3nytawkOAsV7KR8Lul83YhBEBCAgBFGbBypA3E/Cekvs5NKKdLXkBJbwCQiKGRrmwsARhmWhEEkCiEnflRAROx15obm4GpOnPzywcURrq+S6u/gi9F6PngoyQ4vFsGfayOQ0C4EkaAUjmMUekS7kugEi3V07DmoppBJbvoTw95sSviGcO4/oxtdFAI54YxjlkmiCddG/TDqzb93tGBY1VxOfgAtZIAt54cDgBOVnrhNRhzugcbyObIOdiMYYfQrSU2X+GnySt5lC5hoM6Sr0odpHl0JFgHNPrCBGAwBvGA4OljeCRwUPTciVhqxCRyMKTVCiAuAbSJHY9OdnGIi5/LVbaCtxbTVIKsFoKFBbyh+EkKE8RhMx4smAfqpVn+CBnFZcnmBb7+ErRRzDiIfPtYCjbiR7F/OGgOjgB3664lMbgkyK1CDF8A7INmTDiJKdmk6zY0Xkky8YTASS7rGQ2k7JZEYh3uFmZWMkd651nspVmrXaeKsPFRZON8cUBkk1H4QBPYrYdvUeyrDknEmayOJP0TpyekQpBsowcxrRiLy4ACcUYNzR5pOY3E5u3fTSI5+QciaM+HRsgooqEggS5jyIl3MQzAkz6HK7kPr5D5bcTc83FrGRPIM/peCEX7RgB8UQSkMSIhJvDgI/TM70EIKWFaC27sp/9pozxeMamHWMgolQmUFjaQ2q3hKwjJgF5gPMW8ljE0iD8EryGlJbCRzaIsSOTgcQDwSKDYcziSFSkUZR2svpnT/rh73SdZIvlK2AQZLtPC5V5vpZFIO+hxsoLBGCLjhqHIj1Ws6dgVuP7b5jTOKXIWjg+7G4I+WxWFKwwvVH/Ly11ClK3srDeMO+t4y7bsPbdbZ5qA9ZI/frLD1L5T83/0tZf7m5Prg0GCi8xLwyYbP6XpBjyPoZoyNZPT68I3L3rpyuGfFbIesRTlLnFfek77966bOm0JeeMD61kf5P5AiXp9U2k9HRcB/yUUBCwmiaUBFf+7OsXLHnlpyu2io6DVRkCxBuwaXlNYs1Xpm/gv2wsZIzdR8/ETUHzZgDiHPLYHA7645Ul9n0LZ09Z2Prw9RuG+1olOg8ILQ9EbquuUa28XqUf048Ryj3MBIt85tVR7qgxPGcYKV8AZWF7y5TiwO2v/PyGF/N5YPCMJwXiMajl6m9a68V4KLI6itQn+bFlhuYnB3kGP12SpOKjtvKaeWJB4PVQgf5Kx2Of+A3Td+pUA2DY0MqnnBG8ouRbj+LQu8rD1teCfv7jBd/cm107H8Mp9ImihWJOC5FICN9de9bM86K/unmTzHUK7Nkhpwo4y+Cd0Irq3Du2VR/sUN881ptY6nCHcvOVHg6r4u4W7iXyvixDfDF948SzsWHGJfyQxM3fxpNuCLeNv03Ve0NG247KI7nCaQH9r3WX1h+ZtPiaqvLQsuKgtctihjml6oDlvJ+bGqHVRwtxfVmtuvp0QIhebxiIB0rVwm1cf/ETF1VFz59a6r8t5LPaJGWm38h4o9KtlCyKoRgK+Nq6gj13+cuwqOI29fDAUW/s6g2H1nDTzVyzvaqnO7muK6o/yg/OQST4DCKhRS/wfbNTHPJtrAzoO3Y9spKdY0djDkRUk/VT+ZntC3vjqXv646lF7vFmFPrdv82cXPSNF3903Z8kLMcOwpsgSf45s/qLW39cfdOjP96+fbvvvznlfwBYlVj1XyQr3QAAAABJRU5ErkJggg=="},lYLx:function(e,t,s){e.exports=s.p+"static/img/money.da59b32.png"},nI1r:function(e,t){e.exports="data:image/png;base64,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"},"nKb+":function(e,t,s){"use strict";var n=s("Dd8w"),a=s.n(n),i=s("0xDb"),r=s("NYxO");t.a={name:"login",data:function(){return{user:{username:"",password:""},rules:{username:[{required:!0,message:"该栏位必须输入",trigger:"blur"}],password:[{required:!0,message:"该栏位必须输入",trigger:"blur"}]},errorMsg:"",clientH:document.documentElement.clientHeight||document.body.clientHeight,loading:!1}},methods:{submit:function(){var e=this;if(!this.loading){if(!this.user.username||!this.user.password)return void(this.$refs.username&&this.$refs.username.focus());this.loading=!0,this.$store.dispatch("login",{user:{username:this.user.username,password:this.user.password}}).then(function(t){e.loading=!1,e.$store.dispatch("updateUnloginedDialog",{visible:!1,status:"Login"})},function(t){e.errorMsg=Object(i.b)(t),e.loading=!1})}}},computed:a()({},Object(r.c)(["unloginedDialog"])),watch:{errorMsg:function(){var e=this;setTimeout(function(){e.errorMsg=""},3e3)},"unloginedDialog.visible":function(){this.$refs.user.clearValidate()}}}},nNlO:function(e,t,s){"use strict";function n(e){s("3cLJ")}var a=s("q+Lt"),i=s("x1qX"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-f8d3c95c",null);t.a=c.exports},nbpc:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-container"},[e.member.username?s("el-form",{ref:"editUser",staticClass:"info-area",attrs:{model:e.member,"status-icon":""}},[s("div",{staticClass:"text-center m-b"},[s("img",{staticClass:"avatar-img",attrs:{src:e.member.avatar||e.defaultAvatar,alt:e.member.username}})]),e._v(" "),s("el-form-item",{attrs:{label:"用户名","label-width":"85px"}},[s("span",{staticClass:"member-info"},[e._v(e._s(e.member.username))])]),e._v(" "),s("el-form-item",{attrs:{label:"昵称","label-width":"85px"}},[s("p",{staticClass:"member-info"},[e._v(e._s(e.member.nickname?e.member.nickname:""))])]),e._v(" "),s("el-form-item",{attrs:{label:"是否在线","label-width":"85px"}},[s("p",{staticClass:"member-info"},[e._v(e._s(e._f("whether")(e.member.logined)))])]),e._v(" "),s("el-form-item",{attrs:{label:"是否禁言","label-width":"85px"}},[s("p",{staticClass:"member-info"},[e._v("\n        "+e._s(e._f("whether")(e.isBanned))+"\n        "),e.isBanned?s("el-button",{staticClass:"restraint-button",attrs:{type:"danger"},nativeOn:{click:function(t){return e.unban(e.member.username,e.roomId)}}},[e._v("解除禁言")]):e._e(),e._v(" "),e.isBanned?e._e():s("el-button",{staticClass:"restraint-button",attrs:{type:"danger"},nativeOn:{click:function(t){return e.ban(15,e.roomId)}}},[e._v("禁言15分钟")]),e._v(" "),e.isBanned?e._e():s("el-button",{staticClass:"restraint-button",attrs:{type:"danger"},nativeOn:{click:function(t){return e.ban(30,e.roomId)}}},[e._v("禁言30分钟")])],1)]),e._v(" "),s("el-form-item",{attrs:{label:"是否拉黑","label-width":"85px"}},[s("p",{staticClass:"member-info"},[e._v("\n        "+e._s(e._f("whether")(e.isBlocked))+"\n        "),e.isBlocked?e._e():s("el-button",{staticClass:"restraint-button",attrs:{type:"danger"},nativeOn:{click:function(t){return e.block(e.roomId)}}},[e._v("加入黑名单")]),e._v(" "),e.isBlocked?s("el-button",{staticClass:"restraint-button",attrs:{type:"danger"},nativeOn:{click:function(t){return e.unblock(e.member.username,e.roomId)}}},[e._v("解除拉黑")]):e._e()],1)]),e._v(" "),s("el-form-item",{attrs:{label:"备注","label-width":"85px"}},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},on:{input:e.check},model:{value:e.member.remarks,callback:function(t){e.$set(e.member,"remarks",t)},expression:"member.remarks"}})],1),e._v(" "),s("el-form-item",{attrs:{"label-width":"85px"}},[e.changed.message?s("div",{staticClass:"green"},[e._v(e._s(e.changed.message))]):e._e(),e._v(" "),s("el-button",{staticClass:"profile-submit",attrs:{type:"primary",autosize:!0,disabled:!e.changed.result&&!e.loading},nativeOn:{click:function(t){return e.updateMember(t)}}},[e._v("\n        修改备注\n      ")])],1)],1):e._e()],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},nfGu:function(e,t,s){function n(e){return s(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./gift_14@2x.png":"kuJG","./gift_21@2x.png":"XHYX","./gift_7@2x.png":"44uL","./gift_disable@2x.png":"RV5F"};n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id="nfGu"},nzb2:function(e,t){},o4Z0:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"restraint-dialog"},[e.restraint.dialogVisible&&"all"===e.restraint.content?n("div",[n("el-menu",{staticClass:"m-b-xlg",attrs:{"default-active":"0",mode:"horizontal"}},e._l(e.restraint.tabs,function(t,s){return n("el-menu-item",{key:s,attrs:{index:s+""},nativeOn:{click:function(t){return e.switchBlockTab(s)}}},[e._v(e._s(t.display))])}),1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:"1"===e.restraint.nowTab?e.manage.bannedUsers:e.manage.blockedUsers}},[n("el-table-column",{attrs:{prop:"username",label:"帐号",width:"0"===e.restraint.nowTab?215:160}}),e._v(" "),n("el-table-column",{attrs:{prop:"title",label:"房间",width:"0"===e.restraint.nowTab?215:160},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.title+"大厅"))])]}}],null,!1,2313660751)}),e._v(" "),"1"===e.restraint.nowTab?n("el-table-column",{attrs:{prop:"banned_time",label:"时间(mins)",width:"160"}}):e._e(),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"0"===e.restraint.nowTab?215:160},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===e.restraint.nowTab?n("el-button",{attrs:{size:"mini",type:"danger"},nativeOn:{click:function(s){return e.unban(t.row.username,t.row.room_id)}}},[e._v("解除")]):n("el-button",{attrs:{size:"mini",type:"danger"},nativeOn:{click:function(s){return e.unblock(t.row.username,t.row.room_id)}}},[e._v("解除")])]}}],null,!1,365263083)})],1)],1):e._e(),e._v(" "),e.restraint.dialogVisible&&"single"===e.restraint.content?n("div",{staticClass:"member-area"},[e.restraint.user?n("div",{staticClass:"information text-center"},[n("div",{staticClass:"avatar"},[e.restraint.user.avatar?n("img",{staticClass:"img",attrs:{src:e.restraint.user.avatar,alt:"avatar"}}):n("img",{staticClass:"img",attrs:{src:s("HfaK"),alt:"default"}})]),e._v(" "),n("div",{staticClass:"m-t"},[e._v("\n        "+e._s(e.restraint.user.nickname||e.restraint.user.username)+"\n        "),n("div",e._l(e.restraint.user.roles,function(t,s){return n("span",{key:s},[e._v("("+e._s(t.display_name)+")")])}),0)])]):e._e(),e._v(" "),"boolean"==typeof e.isBanned||"boolean"==typeof e.isBlocked?n("div",{staticClass:"m-t-lg actions text-center",attrs:{slot:"footer"},slot:"footer"},[e.isBanned?e._e():n("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.ban(15,e.chat.current.roomId)}}},[e._v("禁言15分钟")]),e._v(" "),e.isBanned?e._e():n("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.ban(30,e.chat.current.roomId)}}},[e._v("禁言30分钟")]),e._v(" "),e.isBlocked?e._e():n("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.block(e.chat.current.roomId)}}},[e._v("加入黑名单")]),e._v(" "),e.isBlocked?n("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.unblock(e.restraint.user.username,e.chat.current.roomId)}}},[e._v("解除拉黑")]):e._e(),e._v(" "),e.isBanned?n("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.unban(e.restraint.user.username,e.chat.current.roomId)}}},[e._v("解除禁言")]):e._e()],1):e._e()]):e._e()])},a=[],i={render:n,staticRenderFns:a};t.a=i},oBLR:function(e,t,s){"use strict";var n=s("woOf"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("NYxO"),c=s("D4uH"),l=(s("vXMS"),s("UUNG"),s("wdG2"),s("PaGD"),s("15Ef"),s("uf94"),s("mgNy"),s("RFZe")),u=s("gyMJ"),d=s("0xDb"),m=s("2xsP"),h=s("N/0d"),p=s("9zcv"),v=s("nNlO"),f=s("h9m6"),g=s("YsPp"),b=s("j7js"),_=s("06yc"),C=s("ChN6");t.a={name:"home",components:{Icon:c.a,ChatRoom:l.a,Conversations:v.a,Result:h.a,Plan:C.a,ChatList:p.a,RoomList:b.a,EditUser:f.a,Checking:g.a,UnloginedDialog:_.a},data:function(){var e=this,t=function(e,t,s){t&&!Object(m.c)(t)?s(new Error("qq号码格式无效")):s()},s=function(e,t,s){t&&!Object(m.b)(t)?s(new Error("手机号码格式无效")):s()},n=function(e,t,s){Object(m.a)(t)?s():s(new Error("请输入6~15位数字或字母"))};return{rechargeCenter:"http://www.zz79.com",activeTab:"chats",activeAside:"draw",swichAvatar:!1,showProfileDiag:!1,announcementStyle:{opacity:1,translateY:0},announcements:[],currentAnnouncementIndex:0,announcementDialogVisible:!1,onlineMembers:[],editUser:{mobile:"",email:"",nickname:"",QQ:""},oldUser:{},editPassword:{prev_password:"",repeat_password:"",new_password:""},disabledEditProfile:!1,rules:{email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}],mobile:[{validator:s,trigger:"blur,change"}],QQ:[{validator:t,trigger:"blur,change"}]},passwordRules:{prev_password:[{required:!0,message:"请输入旧密码",trigger:"blur"}],new_password:[{required:!0,validator:function(t){return function(s,n,a){""===n?a(new Error("请输入新密码")):(""!==e[t].repeat_password&&e.$refs[t].validateField("repeat_password"),a())}}("editPassword"),trigger:"blur"},{validator:n,trigger:"blur,change"}],repeat_password:[{required:!0,validator:function(t){return function(s,n,a){""===n?a(new Error("请再次输入密码")):n!==e[t].new_password?a(new Error("两次输入密码不一致")):a()}}("editPassword"),trigger:"blur"}]},currentChooseAvatar:"",changeProfileSuccess:!0,changeProfileRes:"",showQR:!1,activePanel:"account",tempAvatar:"",memberDialog:{visible:!0,chat:{}},envelopeRecord:[],tablePagination:{total:0,currentPage:1,limit:40},tableLoading:!1,checkingDialog:{visible:!1},checkinRecord:[],memberPopoverVisible:!1,chatStatus:"",chatRoomIsReady:!1,openRestrainDialog:!1,restraintMember:null,releasedUser:{},restraintedUser:{},showConversationIcon:!1,showConversations:!1}},filters:{platform:function(e){return 1===e?"手机":"电脑"}},computed:r()({},Object(o.c)(["conversations","globalPreference","loading","user","rooms","unloginedDialog","unreadConversations","chat","roomMsgs","ws"]),Object(o.b)(["myRoles"]),{currentAnnouncement:function(){return this.announcements[this.currentAnnouncementIndex]?this.announcements[this.currentAnnouncementIndex].content:""},promoteUrl:function(){return this.user.promote_code?window.location.origin+"/#/?r="+this.user.promote_code:""},agent:function(){return this.user.agent?this.user.agent.username:""},asideShown:function(){return(this.myRoles.includes("customer service")||this.myRoles.includes("manager"))&&this.chatRoomIsReady}}),watch:{showProfileDiag:function(){var e=this;this.$nextTick(function(){e.$refs.preViewAvatar.value="",e.$refs.editUser.clearValidate()})},user:function(e){this.initUser(),e.memberLogined?this.toggleConversationIcon(!0):(this.toggleConversationIcon(!1),this.toggleConversations(!1),this.$store.dispatch("setConversations",[]),this.$store.dispatch("setConversationTarget",0),this.$store.dispatch("setConversationMessages",[]),this.$store.dispatch("setSendOnlineStatus",!1))},activePanel:function(e){"record"===e&&this.getEnvelopeRecord(0,this.tablePagination.limit),"checkin"===e&&this.getCheckinRecord(0,this.tablePagination.limit)},activeTab:function(e){e||(this.activeTab="chats")},activeAside:function(e){e||(this.activeAside="draw")}},created:function(){this.getAnnouce()},methods:{handleUserRelease:function(e){this.releasedUser=e},handleUserRestraint:function(e){this.restraintedUser=e},chatRoomReady:function(e){this.chatRoomIsReady=e},chatStatusChanged:function(e){this.chatStatus=e},handleCheckinClick:function(){if(this.myRoles.includes("visitor"))this.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"});else{if("block"===this.chatStatus)return!1;this.checkingDialog.visible=!0}},toggleConversations:function(e){this.showConversations="boolean"==typeof e?e:!this.showConversations},toggleConversationIcon:function(e){this.showConversationIcon="boolean"==typeof e?e:!this.showConversationIcon},getCheckinRecord:function(e,t){var s=this;this.tableLoading=!0,Object(u.g)(e,t).then(function(e){s.tablePagination.total=e.count,s.checkinRecord=e.results,s.tableLoading=!1})},handleCheckinPagination:function(e){this.tablePagination.currentPage=e,this.getCheckinRecord((e-1)*this.tablePagination.limit,this.tablePagination.limit)},closeCheckinDialog:function(){this.checkingDialog.visible=!1},handleProfileDialogClose:function(){this.currentChooseAvatar=null,this.activePanel="account"},handleEnvelopePagination:function(e){this.tablePagination.currentPage=e,this.getEnvelopeRecord((e-1)*this.tablePagination.limit,this.tablePagination.limit)},getEnvelopeRecord:function(e,t){var s=this;this.tableLoading=!0,Object(u.r)(e,t).then(function(e){s.tablePagination.total=e.count,e.results.forEach(function(e){var t=""+e.amount;e.amount=-1!==t.indexOf("-")?"- ¥"+t.replace("-",""):"+ ¥"+t,e.created_at=s.$moment(e.created_at).format("YYYY-MM-DD HH:mm:ss")}),s.envelopeRecord=e.results,s.tableLoading=!1})},handlePrivateChat:function(){this.activeTab="rooms"},handleAvatarClick:function(e){this.memberDialog.chat=e,this.memberDialog.visible=!0},handleChatChoose:function(e){this.memberDialog.chat=e,this.memberDialog.visible=!0},memberDialogClose:function(){this.memberDialog.visible=!0,this.memberDialog.chat={}},restoreAvatar:function(){var e=this;this.disabledEditProfile=!0,Object(u.E)(this.user.id,{avatar:""}).then(function(t){t.error?e.changeProfileRes="修改资料失败":(e.changeProfileRes="已恢复预设头像",e.currentChooseAvatar=t.avatar,e.$store.commit("SET_USER",t)),e.disabledEditProfile=!1},function(t){e.$message({showClose:!0,message:Object(d.b)(t),type:"error"}),e.changeProfileRes="修改资料失败",e.disabledEditProfile=!1})},filtAmount:d.a,animate:function(){var e=this;setTimeout(function(){e.announcementStyle.opacity<=0?(e.currentAnnouncementIndex=(e.currentAnnouncementIndex+1)%e.announcements.length,e.announcementStyle.opacity=1,e.announcementStyle.translateY=0,setTimeout(function(){e.animate()},5e3)):(e.announcementStyle.opacity-=.05,e.announcementStyle.translateY-=1,e.animate())},100)},getAnnouce:function(){var e=this;Object(u.e)().then(function(t){t.forEach(function(t){0!==t.platform&&e.announcements.push(t)}),e.announcements.length>0&&(e.announcements.sort(function(e,t){return e.rank-t.rank}),setTimeout(function(){e.animate()},5e3))}).catch(function(e){console.log(e)})},initUser:function(){this.editUser={mobile:this.user.mobile,email:this.user.email,nickname:this.user.nickname,QQ:this.user.QQ},this.oldUser=a()({},this.editUser)},logout:function(){var e=this;this.$store.dispatch("logout").then(function(t){e.$store.dispatch("trial")})},submit:function(){var e=this,t=!1,s=new FormData;for(var n in this.editUser)this.editUser[n]!==this.oldUser[n]&&(s.append(n,this.editUser[n]),t=!0);var a=this.$refs.preViewAvatar,i=a.files[0];if(!i&&!t)return this.changeProfileRes="请作出修改再送出",!1;this.$refs.editUser.validate(function(t){if(!t)return!1;i&&s.append("avatar",i),e.disabledEditProfile=!0,Object(u.E)(e.user.id,s).then(function(t){t.error?e.changeProfileRes="修改资料失败":(e.changeProfileRes="修改资料成功",e.$store.dispatch("fetchUser"),e.showProfileDiag=!1),setTimeout(function(){e.disabledEditProfile=!1},1e3)},function(t){e.$message({showClose:!0,message:Object(d.b)(t),type:"error"}),e.changeProfileRes="修改资料失败",e.disabledEditProfile=!1})})},updatePassword:function(){var e=this;this.$refs.editPassword.validate(function(t){t&&(e.disabledEditProfile=!0,Object(u.E)(e.user.id,{password:e.editPassword}).then(function(t){t.error?e.changeProfileRes="修改资料失败":e.changeProfileRes="修改资料成功",setTimeout(function(){e.disabledEditProfile=!1,e.changeProfileRes="",e.$store.dispatch("logout"),e.showProfileDiag=!1,e.$store.dispatch("trial").then(function(){e.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})}),e.$refs.editPassword.resetFields()},1e3)},function(t){e.$message({showClose:!0,message:Object(d.b)(t),type:"error"}),e.changeProfileSuccess=!1,e.changeProfileRes="修改资料失败",e.disabledEditProfile=!1}))})},preViewAvatar:function(e){var t=this.$refs.preViewAvatar,s=t.files[0];return/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(t.value)?s.size>1048576?void this.$message({showClose:!0,message:"图片尺寸太大，请选择较小尺寸的图片。",type:"error"}):(this.tempAvatar=URL.createObjectURL(s),void(this.currentChooseAvatar=URL.createObjectURL(s))):(this.$message({showClose:!0,message:"文件格式不正确或您目前尚不符合发言条件",type:"error"}),!1)}}}},oCGI:function(e,t,s){"use strict";var n=s("Ome+"),a=s("dekI"),i=s("VU/8"),r=i(n.a,a.a,!1,null,null,null);t.a=r.exports},"q+Lt":function(e,t,s){"use strict";var n=s("Xxa5"),a=s.n(n),i=s("exGp"),r=s.n(i),o=s("Dd8w"),c=s.n(o),l=s("NYxO"),u=s("D4uH"),d=(s("vrdY"),s("epX/"),s("FOk+"));t.a={name:"Conversations",components:{Icon:u.a},mixins:[d.a],data:function(){return{search:"",loadingTarget:0,loading:!0}},computed:c()({},Object(l.c)(["conversations"]),Object(l.b)(["latestMessages","myRoles"]),{messages:function(){var e=this.latestMessages,t=this.search,s=t.trim().toLowerCase();return s.length>0?e.filter(function(e){var t=e.target,n=t.nickname,a=t.username;return!(!n&&!a)&&(n&&n.toLowerCase().indexOf(s)>-1||a.toLowerCase().indexOf(s)>-1)}):e}}),mounted:function(){this.getConversationList()},methods:{getMessages:function(e){var t=this,s=RongIMLib.ConversationType.PRIVATE;this.loadingTarget=e;var n=function(s){t.clearUnreadCount(e,{onSuccess:function(){function n(){return i.apply(this,arguments)}var i=r()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("setConversationTarget",e);case 2:t.$store.dispatch("setConversationMessages",s),t.$emit("closeConversations");case 4:case"end":return n.stop()}},n,t)}));return n}()})};this.ws.getHistoryMessages(s,e,0,20,{onSuccess:n})},openOnlineMessage:function(){this.$store.dispatch("setSendOnlineStatus",!0),this.$emit("closeConversations")}}}},qn76:function(e,t){},rBKV:function(e,t,s){"use strict";e.exports={NODE_ENV:'"production"',HOST:'"http://47.244.173.114:8002"',chatHost:'"undefined"',decode_key:'"undefined"',ghost:'"undefined"',appKey:'"undefined"'}},sylT:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-tabs",{attrs:{type:"card"},model:{value:e.unloginedDialog.status,callback:function(t){e.$set(e.unloginedDialog,"status",t)},expression:"unloginedDialog.status"}},[s("el-tab-pane",{attrs:{label:"登录",name:"Login"}},["Login"===e.unloginedDialog.status?s("Login"):e._e()],1),e._v(" "),s("el-tab-pane",{attrs:{label:"注册",name:"Register"}},["Register"===e.unloginedDialog.status?s("Register"):e._e()],1)],1)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},szjH:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"maintenance"},[s("div",{staticClass:"box"},[s("p",{staticClass:"title"},[e._v("503")]),e._v(" "),s("p",{staticClass:"contact text-center"},[e._v("维修中, 请稍后再访问页面")])])])}],i={render:n,staticRenderFns:a};t.a=i},tICq:function(e,t,s){"use strict";var n=s("mvHQ"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("gyMJ"),c=s("D4uH"),l=(s("5bS6"),s("NYxO")),u=s("jC6v");t.a={components:{Icon:c.a,ImgAsync:u.a},data:function(){return{speakingContent:"",emojiShowing:!1,showing:this.roomMsgs[this.chat.current.roomId],imgLoadCount:0}},props:{joinChatRoom:{type:Function},emojis:{type:Object},roomMsgs:{type:Object},chat:{type:Object}},computed:r()({},Object(l.c)(["ws","user","chatList"]),{currentChatIndex:function(){var e=this;return this.chatList.findIndex(function(t){return t.id===e.chat.current.chatWith})+1}}),watch:{showing:{handler:function(){var e=this;this.$forceUpdate(),this.$nextTick(function(){e.$refs.msgEnd&&e.$refs.msgEnd.scrollIntoView()})},deep:!0},imgLoadCount:function(e){var t=this;0===e&&this.$nextTick(function(){t.$refs.msgEnd&&t.$refs.msgEnd.scrollIntoView()})}},methods:{sendMsg:function(){if(!this.speakingContent.trim())return!1;this.ws||this.joinChatRoom(),this.ws.send(a()({command:"send",receivers:[this.chat.current.roomId],type:0,content:this.speakingContent})),this.speakingContent=""},sendMsgImg:function(e){var t=this.$refs.privateImgSend,s=t.files[0];if(!/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(t.value))return this.openMessageBox("文件格式不正确或您目前尚不符合发言条件","error"),!1;if(s.size>1048576)return void this.openMessageBox("图片尺寸太大，请选择较小尺寸的图片。","error");var n=new FormData;n.append("receiver",this.chat.current.roomId),n.append("media",s),Object(o.x)(n).then(function(e){t.value=""})},getRoles:function(e){return e.sender.roles.map(function(e){return e.name})},openMessageBox:function(e,t){this.$message({showClose:!0,message:e,type:t})}},mounted:function(){this.$refs.msgEnd&&this.$refs.msgEnd.scrollIntoView()}}},tbYJ:function(e,t){},tvR6:function(e,t){},u69A:function(e,t,s){"use strict";t.a={props:{src:{type:String}},mounted:function(){var e=this,t=this.$el;t.complete||(this.$emit("imgStart"),t.onload=function(){e.$emit("imgLoad")},t.onerror=function(){e.$emit("imgLoad")})}}},vNDs:function(e,t,s){"use strict";function n(e){s("SAJ0")}var a=s("yDI+"),i=s("OKVf"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-70d22bce",null);t.a=c.exports},vT9w:function(e,t,s){function n(e){return s(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./ug-cn":"To0v","./ug-cn.js":"To0v","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w"};n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id="vT9w"},wzNu:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rooms-container"},[e.chat.room_info.length?s("ul",{staticClass:"list"},e._l(e.chat.room_info,function(t,n){return s("li",{key:n,class:["item","pointer",{active:e.chat.current.roomId===t.id}],on:{click:function(s){return e.enterRoom(t)}}},[s("div",{staticClass:"m-l"},[s("i",{staticClass:"icon el-icon-info m-r"}),e._v(" "),s("p",{staticClass:"title"},[e._v(e._s(0===n?t.name:t.name+" 聊天室大厅"))])])])}),0):e._e()])},a=[],i={render:n,staticRenderFns:a};t.a=i},x1qX:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"conversations-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"search",placeholder:"搜索"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:0===e.conversations.length&&e.loading,expression:"conversations.length === 0 && loading"}],staticClass:"loading",attrs:{name:"spinner",scale:"1.5",pulse:""}}),e._v(" "),s("ul",[s("li",{directives:[{name:"show",rawName:"v-show",value:0===e.conversations.length&&!e.loading,expression:"conversations.length === 0 && !loading"}],staticClass:"no-conversations"},[e._v("\n        没有对话\n      ")]),e._v(" "),e._l(e.messages,function(t){return s("li",{key:t.targetId,on:{click:function(s){return e.getMessages(t.targetId)}}},[s("div",{staticClass:"left"},[s("span",{staticClass:"avatar",style:{backgroundImage:"url("+t.target.avatar+")"}})]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"name-notification"},[s("span",{staticClass:"username"},[e._v(e._s(t.target.nickname||t.target.username))])]),e._v(" "),s("p",{staticClass:"message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.unreadCount>0,expression:"c.unreadCount > 0"}],staticStyle:{"font-weight":"bold"}},[e._v("\n              "+e._s(t.extra.sender.nickname||t.extra.sender.username||"未知")+" :\n              "+e._s(t.content)+"\n            ")])])]),e._v(" "),s("div",{staticClass:"loading-target"},[e.loadingTarget===t.targetId?s("icon",{staticClass:"loading",attrs:{name:"spinner",scale:"1",pulse:""}}):e._e()],1)])})],2),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.myRoles.includes("member"),expression:"!myRoles.includes('member')"}],staticClass:"send-online",attrs:{"native-type":"button",type:"success",disabled:!e.ws},on:{click:e.openOnlineMessage}},[s("span",[s("icon",{staticClass:"send-icon",attrs:{name:"paper-plane",scale:"1"}}),e._v("\n         \n        向在线用户发送消息\n      ")],1)])],1)])},a=[],i={render:n,staticRenderFns:a};t.a=i},xJD8:function(e,t,s){"use strict";var n=s("6VpE"),a=(s.n(n),s("nzb2"));s.n(a);t.a={name:"app",data:function(){return{bodyHeight:document.documentElement.clientHeight||document.body.clientHeight}},methods:{resizeHeight:function(){this.bodyHeight=document.documentElement.clientHeight||document.body.clientHeight}},created:function(){window.addEventListener("resize",this.resizeHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHeight)}}},xJsL:function(e,t,s){"use strict";function n(e){s("2hSG")}var a=s("nKb+"),i=s("IbOt"),r=s("VU/8"),o=n,c=r(a.a,i.a,!1,o,"data-v-35b90b39",null);t.a=c.exports},xf59:function(e,t){},"yDI+":function(e,t,s){"use strict";t.a={props:{emojis:{type:Array}},methods:{handleEmojiClick:function(e){this.$emit("emojiClick",e)}}}},yiZD:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s("7+uW"),a=function(e,t,s){var a=e.appKey,i=e.token,r=e.navi||"",o=e.store;s=s||{};var c=s.RongIMLib||window.RongIMLib,l=c.RongIMClient,u=s.protobuf||null,d={};""!==r&&(d.navi=r),null!=u&&(d.protobuf=u),c.RongIMClient.init(a,null,d);var m=l.getInstance();l.setConnectionStatusListener({onChanged:function(e){switch(o.commit("UPDATE_CONNECT",{status:e}),e){case c.ConnectionStatus.CONNECTED:t.getInstance&&t.getInstance(m);break;case c.ConnectionStatus.CONNECTING:console.log("正在链接");break;case c.ConnectionStatus.DISCONNECTED:console.log("断开连接");break;case c.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:console.log("其他设备登录");break;case c.ConnectionStatus.DOMAIN_INCORRECT:console.log("域名不正确");break;case c.ConnectionStatus.NETWORK_UNAVAILABLE:console.log("网络不可用"),o.commit("REFRESH_ROOM")}}}),l.setOnReceiveMessageListener({onReceived:function(e){t.receiveNewMessage&&t.receiveNewMessage(e)}}),l.connect(i,{onSuccess:function(e){t.getCurrentUser&&t.getCurrentUser({userId:e})},onTokenIncorrect:function(){n.default.prototype.$message({showClose:!0,message:"token无效，请联系客服",type:"warning"})},onError:function(e){n.default.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})}})}},zFwQ:function(e,t){},zKHv:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"chat-box",style:{backgroundImage:"url("+e.globalPreference.web_background+")"}},[n("el-header",{staticClass:"header",attrs:{height:"80px"}},[n("el-row",[n("el-col",{attrs:{span:14}},[n("el-row",{attrs:{type:"flex"}},[n("el-col",{staticClass:"logo",style:{backgroundImage:"url("+e.globalPreference.logo+")"},attrs:{span:4}}),e._v(" "),e.announcements.length?n("el-col",{staticClass:"annouce-box",attrs:{span:20},nativeOn:{click:function(t){e.announcementDialogVisible=!0}}},[n("div",{staticClass:"title fl m-r"},[n("span",[e._v("公告")]),e._v(" "),n("icon",{staticClass:"volume-up",attrs:{name:"volume-up",scale:"1"}})],1),e._v(" "),n("div",{staticClass:"content"},[n("p",{staticClass:"text",style:{opacity:e.announcementStyle.opacity,transform:"translateY("+e.announcementStyle.translateY+"px)"}},[e._v("\n                "+e._s(e.currentAnnouncement)+"\n              ")])])]):e._e()],1)],1),e._v(" "),n("el-col",{attrs:{span:2,offset:1}},[n("a",{staticClass:"recharge",attrs:{target:"_blank",href:e.rechargeCenter}},[e._v("\n          快速充值中心\n        ")])]),e._v(" "),n("el-col",{staticClass:"head-right fr",attrs:{span:10}},[n("div",{staticClass:"mobile-promotion",on:{mouseover:function(t){e.showQR=!0},mouseleave:function(t){e.showQR=!1}}},[n("icon",{staticClass:"icon m-r-sm",attrs:{name:"mobile-phone",scale:"2.5"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("手机版聊天室")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showQR,expression:"showQR"}],staticClass:"qrcode"},[n("qr-code",{attrs:{text:e.globalPreference.mobile_url}})],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showConversationIcon,expression:"showConversationIcon"}],staticClass:"conversation m-l pointer"},[n("div",{on:{click:e.toggleConversations}},[n("el-badge",{directives:[{name:"show",rawName:"v-show",value:e.unreadConversations>0,expression:"unreadConversations > 0"}],staticClass:"item notification",attrs:{value:e.unreadConversations}}),e._v(" "),n("icon",{staticClass:"icon m-r-sm",attrs:{name:"comments",scale:"2.5"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("对话")])],1),e._v(" "),e.showConversations?n("Conversations",{on:{closeConversations:function(t){return e.toggleConversations(!1)}}}):e._e()],1),e._v(" "),e.user.id&&e.myRoles&&!e.myRoles.includes("visitor")?n("div",{staticClass:"user-info m-l pointer fr"},[n("el-popover",{ref:"member-popover",attrs:{"popper-class":"member-popover",placement:"bottom",offset:10,trigger:"hover"},model:{value:e.memberPopoverVisible,callback:function(t){e.memberPopoverVisible=t},expression:"memberPopoverVisible"}},[n("ul",{staticClass:"member-popover m-t"},[n("li",{staticClass:"li m-b pointer",on:{click:function(t){e.showProfileDiag=!0,e.memberPopoverVisible=!1}}},[n("icon",{staticClass:"icon m-r-sm",attrs:{name:"user-circle",scale:"1.6"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("用户中心")])],1),e._v(" "),n("li",{staticClass:"li pointer m-b",on:{click:function(t){e.logout(),e.memberPopoverVisible=!1}}},[n("icon",{staticClass:"icon m-r-sm",attrs:{name:"sign-out",scale:"1.6"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("退出登录")])],1)])]),e._v(" "),n("a",{directives:[{name:"popover",rawName:"v-popover:member-popover",arg:"member-popover"}],class:["memberpopover-trigger",{"m-l-xlg":e.globalPreference.envelope_settings&&"1"!==e.globalPreference.checkin_settings.enabled}]},[n("img",{staticClass:"img",attrs:{src:e.user.avatar?e.user.avatar:s("HfaK")}}),e._v(" "),n("div",{staticClass:"info"},[n("span",{class:["username",{underline:e.memberPopoverVisible}]},[e._v(e._s(e.user.nickname||e.user.username))]),e._v(" "),e.memberPopoverVisible?n("i",{staticClass:"el-icon-caret-top p-t"}):n("i",{staticClass:"el-icon-caret-bottom p-t"})])])],1):n("div",{staticClass:"visitor-actions m-l fr"},[n("span",{staticClass:"login m-r-lg pointer",on:{click:function(t){return e.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Login"})}}},[n("icon",{staticClass:"icon m-r-sm",attrs:{name:"user",scale:"1.6"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("登录")])],1),e._v(" "),n("span",{staticClass:"register pointer",on:{click:function(t){return e.$store.dispatch("updateUnloginedDialog",{visible:!0,status:"Register"})}}},[n("icon",{staticClass:"icon m-r-sm",attrs:{name:"pencil-square",scale:"1.6"}}),e._v(" "),n("span",{staticClass:"text"},[e._v("注册")])],1)])])],1)],1),e._v(" "),n("el-container",{staticClass:"home-container full-height"},[e.asideShown?n("el-aside",{class:["aside",{two:e.myRoles.includes("manager")},{one:e.myRoles.includes("customer service")}],attrs:{width:"250px"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-tab-pane",{staticClass:"full-height",attrs:{disabled:e.loading,label:"会员列表",name:"chats"}},[n("div",{staticClass:"chat-list full-height"},["chats"===e.activeTab?n("ChatList",{ref:"chatList",attrs:{releasedUser:e.releasedUser,restraintedUser:e.restraintedUser},on:{getChosenChat:e.handleChatChoose,switchToRooms:e.handlePrivateChat}}):e._e()],1)]),e._v(" "),e.myRoles.includes("manager")?n("el-tab-pane",{staticClass:"full-height",attrs:{disabled:e.loading,label:"聊天列表",name:"rooms"}},[n("div",{staticClass:"rooms-container"},["rooms"===e.activeTab?n("RoomList",{attrs:{defaultHall:Number(e.user.default_room_id)}}):e._e()],1)]):e._e()],1)],1):e._e(),e._v(" "),n("el-main",{staticClass:"chat-area full-height"},[n("chat-room",{class:{"p-l":!e.asideShown},on:{handleUserRelease:e.handleUserRelease,handleUserRestraint:e.handleUserRestraint,chatRoomReady:e.chatRoomReady,handleAvatarClick:e.handleAvatarClick,chatStatusChanged:e.chatStatusChanged}})],1),e._v(" "),n("el-aside",{class:["aside",{two:!e.globalPreference.mobile_lottery_url}],attrs:{width:"30%"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeAside,callback:function(t){e.activeAside=t},expression:"activeAside"}},[n("el-tab-pane",{staticClass:"full-height",attrs:{label:"文字开奖",name:"draw"}},["draw"===e.activeAside?n("div",{staticClass:"results-container"},[n("result")],1):e._e()]),e._v(" "),n("el-tab-pane",{staticClass:"full-height",attrs:{label:"彩票计划",name:"plan"}},["plan"===e.activeAside?n("div",{staticClass:"plans-container"},[n("plan")],1):e._e()]),e._v(" "),e.globalPreference.mobile_lottery_url?n("el-tab-pane",{staticClass:"full-height",attrs:{label:"彩票投注",name:"betting"}},["betting"===e.activeAside?n("div",{staticClass:"plans-container"},[n("iframe",{style:{width:"100%",height:"calc(100% - 40px)"},attrs:{src:e.globalPreference.mobile_lottery_url}})]):e._e()]):e._e()],1)],1),e._v(" "),e.memberDialog.chat.id?n("el-dialog",{staticClass:"edit-dialog",attrs:{"show-close":!0,modal:!0,visible:e.memberDialog.visible,width:"400px",top:"10vh"},on:{"update:visible":function(t){return e.$set(e.memberDialog,"visible",t)},close:function(t){e.memberDialog.chat={}}}},[e.memberDialog.chat.id?n("EditUser",{attrs:{userId:e.memberDialog.chat.id},on:{memberDialogClose:e.memberDialogClose}}):e._e()],1):e._e(),e._v(" "),n("el-dialog",{attrs:{title:"最新消息",visible:e.announcementDialogVisible,width:"600px",center:""},on:{"update:visible":function(t){e.announcementDialogVisible=t}}},[e.announcementDialogVisible?n("el-carousel",{staticClass:"announcement-popup",attrs:{height:"200px","initial-index":e.currentAnnouncementIndex}},e._l(e.announcements,function(t){return n("el-carousel-item",{key:t.rank},[n("p",{key:"announcement",staticClass:"text-center"},[e._v("\n              "+e._s(t.content)+"\n            ")])])}),1):e._e()],1),e._v(" "),n("el-dialog",{staticClass:"profile-dialog",attrs:{visible:e.showProfileDiag,width:"600px",top:"10vh",center:""},on:{"update:visible":function(t){e.showProfileDiag=t},open:function(t){e.changeProfileRes=""},close:e.handleProfileDialogClose}},[n("div",{staticClass:"edit-profile"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":function(t){e.changeProfileRes=""}},model:{value:e.activePanel,callback:function(t){e.activePanel=t},expression:"activePanel"}},[n("el-tab-pane",{staticClass:"edit-user-panel",attrs:{label:"帐号信息",name:"account"}},["account"===e.activePanel?n("div",{staticClass:"avatar",staticStyle:{"overflow-y":"hidden"},on:{mouseover:function(t){e.swichAvatar=!0},mouseout:function(t){e.swichAvatar=!1}}},[n("div",[e.user.avatar&&!e.swichAvatar?n("img",{attrs:{src:e.currentChooseAvatar||e.user.avatar,width:"72",height:"72"}}):e.swichAvatar?e._e():n("img",{attrs:{src:e.currentChooseAvatar||s("HfaK"),width:"72",height:"72"}})]),e._v(" "),n("label",{staticClass:"pointer",attrs:{for:"preViewAvatar"}},[n("input",{ref:"preViewAvatar",staticClass:"img-upload-input",attrs:{type:"file",id:"preViewAvatar",accept:".jpg, .png, .gif, .jpeg, image/jpeg, image/png, image/gif"},on:{change:e.preViewAvatar}}),e._v(" "),e.swichAvatar?n("span",{staticClass:"el-icon-upload"}):e._e()])]):e._e(),e._v(" "),n("p",{staticClass:"text-center m-b-lg m-t"},[n("label",{staticClass:"pointer new-avatarbtn m-r-lg m-l",attrs:{for:"preViewAvatar"},on:{mouseover:function(t){e.swichAvatar=!0},mouseout:function(t){e.swichAvatar=!1}}},[e._v("上传新头像")]),e._v(" "),null!==e.user.avatar?n("label",{staticClass:"pointer",on:{click:e.restoreAvatar,mouseover:function(t){e.currentChooseAvatar=s("HfaK")},mouseout:function(t){e.currentChooseAvatar=e.tempAvatar?e.tempAvatar:e.user.avatar}}},[e._v("恢复预设头像")]):e._e()]),e._v(" "),n("el-form",{ref:"editUser",attrs:{model:e.editUser,"status-icon":"",rules:e.rules}},[n("el-form-item",{attrs:{prop:"nickname",label:"昵称","label-width":"85px"}},[n("el-input",{staticClass:"inp",model:{value:e.editUser.nickname,callback:function(t){e.$set(e.editUser,"nickname",t)},expression:"editUser.nickname"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"mobile",label:"手机","label-width":"85px"}},[n("el-input",{staticClass:"inp",attrs:{type:"number"},nativeOn:{keypress:function(t){return e.filtAmount(t)}},model:{value:e.editUser.mobile,callback:function(t){e.$set(e.editUser,"mobile",t)},expression:"editUser.mobile"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"QQ",label:"QQ","label-width":"85px"}},[n("el-input",{staticClass:"inp",attrs:{type:"number"},nativeOn:{keypress:function(t){return e.filtAmount(t)}},model:{value:e.editUser.QQ,callback:function(t){e.$set(e.editUser,"QQ",t)},expression:"editUser.QQ"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户余额","label-width":"85px"}},[n("p",{staticClass:"member-info"},[e._v(e._s(e.user.balance))])]),e._v(" "),n("el-form-item",{attrs:{label:"注册时间","label-width":"85px"}},[n("p",{staticClass:"member-info"},[e._v(e._s(e._f("moment")(e.user.date_joined,"YYYY-MM-DD")))])]),e._v(" "),e.promoteUrl?n("el-form-item",{attrs:{label:"推广链接","label-width":"85px"}},[n("p",{staticClass:"member-info"},[e._v(e._s(e.promoteUrl))])]):e._e(),e._v(" "),e.agent?n("el-form-item",{attrs:{label:"代理商","label-width":"85px"}},[n("p",{staticClass:"member-info"},[e._v(e._s(e.agent))])]):e._e(),e._v(" "),n("el-form-item",{attrs:{"label-width":"85px"}},[n("el-button",{staticClass:"profile-submit",attrs:{type:"primary",disabled:e.disabledEditProfile},on:{click:e.submit}},[e._v("确认修改")])],1),e._v(" "),n("el-form-item",{attrs:{"label-width":"85px"}},[n("p",{class:[e.changeProfileSuccess?"text-success":"text-danger"]},[e._v(e._s(e.changeProfileRes))])])],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"红包纪录",name:"record"}},["record"===e.activePanel?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}]},[n("el-table",{staticClass:"envelope-table",staticStyle:{width:"100%"},attrs:{data:e.envelopeRecord}},[n("el-table-column",{attrs:{prop:"status",label:"收发",width:"100px"}}),e._v(" "),n("el-table-column",{attrs:{prop:"amount",label:"红包总额",width:"100px"}}),e._v(" "),n("el-table-column",{attrs:{prop:"packs",width:"100px",label:"个数"}}),e._v(" "),n("el-table-column",{attrs:{prop:"created_at",width:"190px",label:"时间"}})],1),e._v(" "),e.tablePagination.total?n("el-pagination",{attrs:{"page-size":e.tablePagination.limit,"current-page":1,layout:"prev, pager, next",total:e.tablePagination.total},on:{"current-change":e.handleEnvelopePagination}}):e._e()],1):e._e()]),e._v(" "),n("el-tab-pane",{attrs:{label:"签到纪录",name:"checkin"}},["checkin"===e.activePanel?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}]},[n("el-table",{staticClass:"envelope-table",staticStyle:{width:"100%"},attrs:{data:e.checkinRecord}},[n("el-table-column",{attrs:{label:"签到装置",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("platform")(t.row.platform)))])]}}],null,!1,1039488031)}),e._v(" "),n("el-table-column",{attrs:{prop:"normal_bonus",label:"获得金额",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.special_reason?n("span",[e._v("¥"+e._s(t.row.special_bonus))]):n("span",[e._v("¥"+e._s(t.row.normal_bonus))])]}}],null,!1,2129366420)}),e._v(" "),n("el-table-column",{attrs:{prop:"continuous_checkins",width:"100px",label:"连续天数"}}),e._v(" "),n("el-table-column",{attrs:{width:"190px",label:"签到时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("moment")(t.row.checkin_time,"YYYY-MM-DD HH:mm:ss")))])]}}],null,!1,2836673704)})],1),e._v(" "),e.tablePagination.total?n("el-pagination",{attrs:{"page-size":e.tablePagination.limit,"current-page":1,layout:"prev, pager, next",total:e.tablePagination.total},on:{"current-change":e.handleCheckinPagination}}):e._e()],1):e._e()]),e._v(" "),n("el-tab-pane",{staticClass:"edit-password-panel",attrs:{label:"修改密码",name:"password"}},["password"===e.activePanel?n("el-form",{ref:"editPassword",staticClass:"edit-password-form",attrs:{model:e.editPassword,"status-icon":"",rules:e.passwordRules,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"prev_password",label:"旧密码"}},[n("el-input",{staticClass:"inp",attrs:{type:"password",maxlength:15},model:{value:e.editPassword.prev_password,callback:function(t){e.$set(e.editPassword,"prev_password",t)},expression:"editPassword.prev_password"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"new_password",label:"新密码"}},[n("el-input",{staticClass:"inp",attrs:{type:"password",maxlength:15},model:{value:e.editPassword.new_password,callback:function(t){e.$set(e.editPassword,"new_password",t)},expression:"editPassword.new_password"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"repeat_password",label:"确认新密码"}},[n("el-input",{staticClass:"inp",attrs:{type:"password",maxlength:15},model:{value:e.editPassword.repeat_password,callback:function(t){e.$set(e.editPassword,"repeat_password",t)},expression:"editPassword.repeat_password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticClass:"inp profile-submit",attrs:{type:"primary",disabled:e.disabledEditProfile},on:{click:e.updatePassword}},[e._v("确认修改")])],1),e._v(" "),n("el-form-item",[n("p",{class:[e.changeProfileSuccess?"text-success":"text-danger"]},[e._v(e._s(e.changeProfileRes))])])],1):e._e()],1)],1)],1)]),e._v(" "),e.user.username&&e.globalPreference.checkin_settings&&e.globalPreference.checkin_settings.single_day_amount&&!e.myRoles.includes("visitor")&&"1"===e.globalPreference.checkin_settings.enabled?n("el-dialog",{attrs:{"custom-class":"checking-dialog init-dialog","show-close":!1,visible:e.checkingDialog.visible,width:"450px"},on:{"update:visible":function(t){return e.$set(e.checkingDialog,"visible",t)}}},[e.checkingDialog.visible?n("Checking",{attrs:{continuousCheckins:e.user.continuous_checkins,hasChecked:e.user.last_checkin===e.$moment().format("YYYY-MM-DD"),singleDayAmount:e.globalPreference.checkin_settings.single_day_amount},on:{closeCheckinDialog:e.closeCheckinDialog}}):e._e()],1):e._e(),e._v(" "),n("el-dialog",{attrs:{"custom-class":"unlogined-dialog init-dialog",visible:e.unloginedDialog.visible,width:"360px"},on:{"update:visible":function(t){return e.$set(e.unloginedDialog,"visible",t)}}},[n("UnloginedDialog")],1)],1)],1)},a=[],i={render:n,staticRenderFns:a};t.a=i}},[0]);
//# sourceMappingURL=app.a7482f5ac338a5efa543.js.map