webpackJsonp([5],{"3Lt7":function(t,e,r){"use strict";Number,String,Number,String;var i=["-moz-box-","-webkit-box-",""],n={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(t){return"number"==typeof t?t<1?t:t/12:"string"==typeof t?t.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var t={},e="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(t[e]=this.$parent.gutter+"px"),this.span)for(var r=0;r<i.length;r++)t[i[r]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(t.order=this.order),t}},data:function(){return{bodyWidth:0}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-flexbox-item",style:this.style},[this._t("default")],2)},staticRenderFns:[]},a=r("VU/8")(n,s,!1,null,null,null);e.a=a.exports},"5ZSO":function(t,e){},"Bf+Z":function(t,e){},BrDs:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("pDNl"),n=r("rHil"),s=r("2sLL"),a=r("YxJB"),o=r("3Lt7"),l=r("HD9R"),u=r("0xDb"),c=(i.a,n.a,s.a,a.a,o.a,l.a,{name:"Home",data:function(){return{user:{username:"",password:""},valid:!1,loading:!1,error:"",illegalTriedLogin:!1,illegalTrial:!1}},methods:{validate:function(){var t=!0;for(var e in this.$refs)t=this.$refs[e].valid&&t;this.valid=t},submit:function(){var t=this;this.loading||(this.loading=!0,this.valid&&this.$store.dispatch("login",{user:this.user}).then(function(e){return t.$store.dispatch("fetchUser")}).then(function(e){t.illegalTriedLogin=!1,t.error="",t.loading=!1,t.$router.push("/chatroom")}).catch(function(e){t.error=Object(u.a)(e),t.loading=!1}))}},watch:{error:function(t){var e=this;t&&setTimeout(function(){e.error=""},3e3)}},components:{XInput:i.a,Group:n.a,XButton:s.a,Flexbox:a.a,FlexboxItem:o.a,Popup:l.a}}),d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"container",attrs:{autocomplete:"off"}},[r("group",{attrs:{title:"欢迎登录"}},[r("x-input",{ref:"username",attrs:{required:"","show-clear":"",placeholder:"请输入用户名",title:"用户名","label-width":"100"},on:{"on-change":t.validate},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),t._v(" "),r("x-input",{ref:"password",attrs:{required:"","show-clear":"",placeholder:"请输入密码",type:"password",autocomplete:"off",title:"密码","label-width":"100"},on:{"on-change":t.validate},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),r("div",{staticClass:"actions"},[t.error?r("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),r("x-button",{attrs:{type:"primary","action-type":"button","show-loading":t.loading,disabled:!t.valid},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("登录\n    ")]),t._v(" "),r("flexbox",{staticClass:"m-t"},[r("flexbox-item",[r("x-button",{attrs:{type:"default","action-type":"button",link:"/register"}},[t._v("\n              注册\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(c,d,!1,function(t){r("5ZSO")},"data-v-1a445df9",null);e.default=f.exports},YxJB:function(t,e,r){"use strict";Number,String,String,String,String,String;var i={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){var t={"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction};return t}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===this.orient,"vux-flex-row":"horizontal"===this.orient},style:this.styles},[this._t("default")],2)},staticRenderFns:[]};var s=r("VU/8")(i,n,!1,function(t){r("Bf+Z")},null,null);e.a=s.exports}});
//# sourceMappingURL=5.4b847cd26e96f176bf32.js.map